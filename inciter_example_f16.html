<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Examples &raquo; Inciter: Example setup for marching a transonic problem to steady-state | Quinoa docs</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="quinoa.m-dark-noindent+doxygen.compiled.css" />
  <link rel="icon" href="quinoa_sum.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">Quinoa <span class="m-thin">docs</span></a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-dox-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="why.html">Why</a></li>
            <li>
              <a href="build.html">Build</a>
              <ol>
                <li><a href="git_submodules_subtrees.html">Modules</a></li>
                <li><a href="licenses.html">Libraries</a></li>
                <li><a href="build_system.html">Internals</a></li>
              </ol>
            </li>
            <li>
              <a href="https://quinoacomputing.github.io/index.html#mainpage_tools">Tools</a>
              <ol>
                <li><a href="inciter_main.html">Inciter (Compressible flow solver)</a></li>
                <li><a href="meshconv_main.html">MeshConv (Mesh format converter)</a></li>
                <li><a href="unittest_main.html">UnitTest</a></li>
              </ol>
            </li>
            <li><a href="namespaces.html">Namespaces</a></li>
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="7">
            <li>
              <a href="resources.html">Resources</a>
              <ol>
                <li><a href="https://github.com/quinoacomputing/quinoa">GitHub</a></li>
                <li><a href="papers.html">Publications</a></li>
                <li><a href="https://github.com/quinoacomputing/quinoa/blob/master/LICENSE">License</a></li>
                <li><a href="roadmap.html">Roadmap</a></li>
                <li><a href="contributing.html">Contributing</a></li>
                <li><a href="coverage.html">Coverage</a></li>
                <li><a href="https://github.com/quinoacomputing/quinoa/releases">Tarballs</a></li>
                <li><a href="https://bestpractices.coreinfrastructure.org/projects/2120">Practices</a></li>
              </ol>
            </li>
            <li class="m-show-m"><a href="#search" class="m-dox-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="examples.html">Examples</a> &raquo;</span>
          Inciter: Example setup for marching a transonic problem to steady-state
        </h1>
<p>This example runs the <a href="inciter_alecg.html" class="m-dox">ALECG hydrodynamics</a> algorithm marching the solution to steady state using a local time-stepping procedure. The problem is initialized with a free-stream Mach number of <code>M=0.84</code> and an angle of attack of 3.06 degrees.</p><div class="m-col-m-12 m-center-m"><img class="m-image" src="f16_mesh.png" alt="Image" />
 Surface mesh for computing the flow around the F16, nelem=6M, npoin=1M, see below.</div><section id="f16_control"><h2><a href="#f16_control">Control file</a></h2><pre class="m-code"><span class="c1"># vim: filetype=sh:</span>
<span class="c1"># This is a comment</span>
<span class="c1"># Keywords are case-sensitive</span>

title <span class="s2">&quot;F16&quot;</span>

inciter

  ttyi <span class="m">10</span>      <span class="c1"># TTY output interval</span>

  cfl <span class="m">0</span>.5
  steady_state <span class="nb">true</span>
  residual <span class="m">1</span>.0e-5
  rescomp <span class="m">1</span>

  scheme alecg

  partitioning
    algorithm mj
  end

  compflow
    depvar u
    physics euler

    ic
      density <span class="m">1</span>.225 end <span class="c1"># density of air at STP, kg/m3</span>
      pressure <span class="m">1</span>.0e+5 end <span class="c1"># N/m^2</span>
      <span class="c1"># sound speed: sqrt(1.4*1.0e+5/1.225) = 338.06 m/s</span>
      <span class="c1"># free stream Mach number: M = 0.84</span>
      <span class="c1"># angle of attack: 3.06 degrees</span>
      <span class="c1"># u = M * a * cos(3.06*pi/180) = 283.57</span>
      <span class="c1"># v = M * a * sin(3.06*pi/180) = 15.159</span>
      velocity <span class="m">0</span>.0 <span class="m">15</span>.159 -283.57 end
    end

    material
      gamma <span class="m">1</span>.4 end
    end

    bc_sym
      sideset <span class="m">1</span> <span class="m">2</span> <span class="m">7</span> end
    end

    bc_farfield
      pressure <span class="m">1</span>.0e+5
      density <span class="m">1</span>.225
      velocity <span class="m">0</span>.0 <span class="m">15</span>.159 -283.57 end
      sideset <span class="m">12</span> end
    end

  end

  field_output
    interval <span class="m">1000</span>
    var
      density
      pressure
      x-velocity
      y-velocity
      z-velocity
      specific_total_energy
    end
    sideset <span class="m">1</span> <span class="m">2</span> <span class="m">7</span> end
  end

  diagnostics
    interval  <span class="m">1</span>
    format    scientific
    error     l2
    precision <span class="m">12</span>
  end

end</pre></section><section id="f16_run"><h2><a href="#f16_run">Run on 34 CPUs</a></h2><pre class="m-code">./charmrun +p34 Main/inciter -v -i ../../tmp/f16b_tet.exo -c ../../tmp/f16.q</pre></section><section id="f16_screen"><h2><a href="#f16_screen">Screen output during the run</a></h2><pre>      ,::,`                                                            `.
   .;;;&#x27;&#x27;;;;:                                                          ;;#
  ;;;@+   +;;;  ;;;;;,   ;;;;. ;;;;;, ;;;;      ;;;;   `;;;;;;:        ;;;
 :;;@`     :;;&#x27; .;;;@,    ,;@, ,;;;@: .;;;&#x27;     .;+;. ;;;@#:&#x27;;;;      ;;;;&#x27;
 ;;;#       ;;;: ;;;&#x27;      ;:   ;;;&#x27;   ;;;;;     ;#  ;;;@     ;;;     ;+;;&#x27;
.;;+        ;;;# ;;;&#x27;      ;:   ;;;&#x27;   ;#;;;`    ;#  ;;@      `;;+   .;#;;;.
;;;#        :;;&#x27; ;;;&#x27;      ;:   ;;;&#x27;   ;# ;;;    ;# ;;;@       ;;;   ;# ;;;+
;;;#        .;;; ;;;&#x27;      ;:   ;;;&#x27;   ;# ,;;;   ;# ;;;#       ;;;:  ;@  ;;;
;;;#        .;;&#x27; ;;;&#x27;      ;:   ;;;&#x27;   ;#  ;;;;  ;# ;;;&#x27;       ;;;+ ;&#x27;,  ;;;@
;;;+        ,;;+ ;;;&#x27;      ;:   ;;;&#x27;   ;#   ;;;&#x27; ;# ;;;&#x27;       ;;;&#x27; ;&#x27;:::;;;;
`;;;        ;;;@ ;;;&#x27;      ;:   ;;;&#x27;   ;#    ;;;&#x27;;# ;;;@       ;;;:,;+++++;;;&#x27;
 ;;;;       ;;;@ ;;;#     .;.   ;;;&#x27;   ;#     ;;;;# `;;+       ;;# ;#     ;;;&#x27;
 .;;;      :;;@  ,;;+     ;+    ;;;&#x27;   ;#      ;;;#  ;;;      ;;;@ ;@      ;;;.
  &#x27;;;;    ;;;@,   ;;;;``.;;@    ;;;&#x27;   ;+      .;;#   ;;;    :;;@ ;;;      ;;;+
   :;;;;;;;+@`     &#x27;;;;;;&#x27;@    ;;;;;, ;;;;      ;;+    +;;;;;;#@ ;;;;.   .;;;;;;
     .;;#@&#x27;         `#@@@:     ;::::; ;::::      ;@      &#x27;@@@+   ;:::;    ;::::::
    :;;;;;;.     .___              .__  __
   .;@+@&#x27;;;;;;;&#x27; |   | ____   ____ |__|/  |_  ___________
    `     &#x27;#&#x27;&#x27;@` |   |/    \_/ ___\|  \   __\/ __ \_  __ \
                 |   |   |  \  \___|  ||  | \  ___/|  | \/
                 |___|___|  /\___  &gt;__||__|  \___  &gt;__|
                          \/     \/              \/

                                 &lt; ENVIRONMENT &gt;                                
                                 ------ o ------                          

 * Build environment:
 --------------------
     Hostname                                 : lagrange
     Executable                               : inciter
     Version                                  : 0.3 (C20072)
     Revision SHA1                            : Quinoa_v0.3-557-gde8827343
     CMake build type                         : RELEASE
     Asserts                                  : off (turn on: CMAKE_BUILD_TYPE=DEBUG)
     MPI C++ wrapper                          : /usr/bin/mpicxx
     Underlying C++ compiler                  : /usr/lib/ccache/g++
     Build date                               : Thu 17 Jun 2021 12:36:08 PM MDT

 * Run-time environment:
 -----------------------
     Date, time                               : Thu Jun 17 13:03:09 2021
     Work directory                           : /home/jbakosi/code/quinoa/build/gnu
     Executable (relative to work dir)        : Main/inciter
     Command line arguments                   : &#x27;-v -i ../../tmp/f16b_tet.exo -c ../../tmp/f16.q&#x27;
     Screen output, -v                        : verbose
     Screen output log file, -O               : inciter_screen.log
     Input log file                           : inciter_input.log
     Number of processing elements            : 34 (34x1)
     Quiescence detection, -q                 : off
     Chare state output, -S                   : off
     Call and stack trace, -t                 : on
     Non-blocking migration, -n               : off
     Benchmark mode, -b                       : off
     Load-balancing frequency, -l             : 1
     Checkpoint/restart frequency, -r         : 1000
     Control file                             : ../../tmp/f16.q
     Parsed control file                      : success


                                   &lt; FACTORY &gt;                                  
                                   ---- o ----                            

 * Unknowns data layout (CMake: FIELD_DATA_LAYOUT):
 --------------------------------------------------
     unknown-major                           

 * PDE factory legend, policy codes:
 -----------------------------------
     Physics configuration (policy code: p)
        A - Advection
        D - Advection + diffusion
        E - Euler
        N - Navier-Stokes
        V - Velocity equilibrium
     Test problem (policy code: t)
        U - User-defined
        S - Shear-diffusion
        V - Vortical flow
        N - Nonlinear energy growth
        R - Rayleigh-Taylor
        T - Taylor-Green
        Z - Zalesak&#x27;s slotted cylinder
        G - Advection of 2D Gaussian hump
        C - Advection of cylinder
        X - Deformation of cylinder in a vortex
        F - Shedding flow over triangular wedge
        H - Sod shock-tube
        O - Rotated Sod shock-tube
        B - Sedov blast-wave
        I - Interface advection
        A - Advection of 2D Gaussian hump for Euler equations
        W - Water-air shock-tube
        E - Shock He-bubble problem
        D - Underwater explosion problem

 * Registered PDEs using continuous Galerkin (CG) methods:
 ---------------------------------------------------------
     Unique equation types                    : 2
     With all policy combinations             : 30
     Compressible single-material flow        : p:EN, t:ABFHNORTUV
     Transport                                : p:AD, t:CGSXZ

 * Registered PDEs using discontinuous Galerkin (DG) methods:
 ------------------------------------------------------------
     Unique equation types                    : 3
     With all policy combinations             : 21
     Compressible multi-material flow         : p:V, t:DEHIUW
     Compressible single-material flow        : p:E, t:ABFHNORTUV
     Transport                                : p:A, t:CGSXZ


                                   &lt; PROBLEM &gt;                                  
                                   ---- o ----                            

 * Title: F16 
 -------------

 * Discretization parameters:
 ----------------------------
     Discretization scheme                    : ALECG+RK
     PE-locality mesh reordering              : false
     Operator-access mesh reordering          : false
     Local time stepping                      : true
     L2-norm residual convergence criterion   : 1e-05
     Convergence criterion component index    : 1
     Number of time steps                     : 18446744073709551615
     Start time                               : 0
     Terminate time                           : 1.79769e+308
     CFL coefficient                          : 0.5

 * Partial differential equations integrated (1):
 ------------------------------------------------
   &lt; Compressible single-material flow &gt;
     dependent variable                       : u
     physics                                  : Euler
     problem                                  : User-defined
     number of components                     : 5
     start offset in unknowns array           : 0
     ratio of specific heats                  : 1.4
     material stiffness                       : 0
     specific heat at constant volume         : 717.5
     IC background density                    : 1.225
     IC background velocity                   : { 0 15.159 -283.57 }
     IC background pressure                   : 100000
     Farfield BC sideset(s)                   : { 12 }
     Farfield BC density                      : 1.225000
     Farfield BC velocity                     : { 0 15.159 -283.57 }
     Farfield BC pressure                     : 100000.000000
     Symmetry BC sideset(s)                   : { 1 2 7 }

 * Input/Output filenames and directories:
 -----------------------------------------
     Input mesh(es)                           : { ../../tmp/f16b_tet.exo }
     Volume field output file(s)              : out.e-s.&lt;meshid&gt;.&lt;numchares&gt;.&lt;chareid&gt;
     Surface field output file(s)             : out-surf.&lt;surfid&gt;.e-s.&lt;meshid&gt;.&lt;numchares&gt;.&lt;chareid&gt;
     History output file(s)                   : out.hist.{pointid}
     Diagnostics file                         : diag
     Checkpoint/restart directory             : restart/

 * Output intervals:
 -------------------
     TTY                                      : 10
     Field and surface                        : 1000
     Diagnostics                              : 1
     Checkpoint/restart                       : 1000

 * Output fields:
 ----------------
     Node field(s)                            : { density pressure specific_total_energy x-velocity y-velocity z-velocity }
     Surface side set(s)                      : { 1 2 7 }

Quinoa&gt; Reading mesh(es)
Quinoa&gt; Mesh read time: 1.948046 sec

 * Initial load distribution:
 ----------------------------
     Total number of tetrahedra               : 6028542
     Total number of points                   : 1042051
     Total number of work units               : 34


 * Mesh partitioning:
 --------------------
     Mesh partitioning algorithm              : multi-jagged
     Virtualization [0.0...1.0]               : 0

 * Initial load distribution:
 ----------------------------
     Total number of tetrahedra               : 6028542
     Total number of points                   : 1042051
     Total number of work units               : 34

Quinoa&gt; Preparing mesh ... done
Quinoa&gt; Mesh 0 distribution statistics: min/max/avg(edgelength) = 0.000728 / 18.314657 / 0.495553, min/max/avg(V^{1/3}) = 0.002931 / 6.964812 / 0.200741, min/max/avg(ntets) = 177310 / 177311 / 177310

 * Time integration: Navier-Stokes solver
 ----------------------------------------
     Legend: it - iteration count
              t - physics time
             dt - physics time step size
            ETE - estimated wall-clock time elapsed (h:m:s)
            ETA - estimated wall-clock time for accomplishment (h:m:s)
            EGT - estimated grind wall-clock time (ms/timestep)
            flg - status flags, legend:
                  f - field (volume and surface)
                  d - diagnostics
                  t - physics time history
                  h - h-refinement
                  l - load balancing
                  r - checkpoint
     
      it             t            dt        ETE        ETA        EGT  flg
 -------------------------------------------------------------------------
Quinoa&gt; Preparing workers ... done
Quinoa&gt; Load balancing on (if enabled in Charm++)
Quinoa&gt; Starting time stepping ...
      10  5.948514e-05  6.085095e-06  000:00:00  000:00:00       2056  dl
      20  1.205544e-04  6.116550e-06  000:00:00  000:00:00       2053  dl
      30  1.817655e-04  6.123686e-06  000:00:00  000:00:00       2042  dl
      40  2.430199e-04  6.126608e-06  000:00:00  000:00:00       2042  dl
      50  3.042976e-04  6.128686e-06  000:00:00  000:00:00       2042  dl
      60  3.655963e-04  6.130900e-06  000:00:00  000:00:00       2047  dl
      70  4.269196e-04  6.133588e-06  000:00:00  000:00:00       2043  dl
      80  4.882731e-04  6.136872e-06  000:00:00  000:00:00       2044  dl
      90  5.496628e-04  6.140794e-06  000:00:00  000:00:00       2043  dl

 * Timers (h:m:s):
 -----------------
     Migrate global-scope data                                                   : 0:0:0
     Total runtime                                                               : 0:3:28</pre><p>As the above screen output shows, the simulation took about three and a half minutes using 34 CPUs.</p></section><section id="f16_sol"><h2><a href="#f16_sol">Solution</a></h2><div class="m-col-m-12 m-center-m"><img class="m-image" src="f16.png" alt="Image" />
 Pressure contours.</div></section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-dox-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-dox-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-dox-search-content">
          <input type="search" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" />
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript. Enable it or <a href="https://google.com/search?q=site:quinoacomputing.github.io+">use an external search engine</a>.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            Search for symbols, directories, files, pages or modules. You can omit any
            prefix from the symbol or file path; adding a <code>:</code> or <code>/</code>
            suffix lists all members of given symbol or directory. Navigate through the
            list using <span class="m-label m-dim">&darr;</span> and
            <span class="m-label m-dim">&uarr;</span>, press
            <span class="m-label m-dim">Enter</span> to go.
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.<br />Maybe try a full-text <a href="#" id="search-external" data-search-engine="https://google.com/search?q=site:quinoacomputing.github.io+{query}">search with external engine</a>?</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search.js"></script>
<script src="searchdata.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>Quinoa docs, part of the <a href="http://quinoacomputing.github.io/">Quinoa project</a>. Copyright © J. Bakosi 2012&ndash;2015, Los Alamos National Security, LLC, 2016&ndash;2018, <a href="https://www.triadns.org/">Triad National Security, LLC,</a> 2019-2021. Generated on Tuesday, Nov 07, 2023 based on <a href="https://github.com/quinoacomputing/quinoa/commit/-128-NOTFOUND">-128-NOTFOUND</a> by <a href="http://doxygen.org/">Doxygen</a> and <a href="http://mcss.mosra.cz/">m.css</a>. Contact us via <a href="https://github.com/quinoacomputing/quinoa/issues">GitHub</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>