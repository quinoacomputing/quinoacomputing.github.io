
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Cppcheck - HTML report - [<a href=https://github.com/quinoacomputing/quinoa/commit/-128-NOTFOUND>-128-NOTFOUND</a>]</title>
    <link rel="stylesheet" href="style.css">
    <style>
pre { line-height: 125%; margin: 0; }
td.linenos pre { color: #000000; background-color: #f0f0f0; padding: 0 5px 0 5px; }
span.linenos { color: #000000; background-color: #f0f0f0; padding: 0 5px 0 5px; }
td.linenos pre.special { color: #000000; background-color: #ffffc0; padding: 0 5px 0 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding: 0 5px 0 5px; }
.highlight .hll { background-color: #ffffcc }
.highlight { background: #ffffff; }
.highlight .c { color: #888888 } /* Comment */
.highlight .err { color: #FF0000; background-color: #FFAAAA } /* Error */
.highlight .k { color: #008800; font-weight: bold } /* Keyword */
.highlight .o { color: #333333 } /* Operator */
.highlight .ch { color: #888888 } /* Comment.Hashbang */
.highlight .cm { color: #888888 } /* Comment.Multiline */
.highlight .cp { color: #557799 } /* Comment.Preproc */
.highlight .cpf { color: #888888 } /* Comment.PreprocFile */
.highlight .c1 { color: #888888 } /* Comment.Single */
.highlight .cs { color: #cc0000; font-weight: bold } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #c65d09; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008800; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008800; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008800; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #003388; font-weight: bold } /* Keyword.Pseudo */
.highlight .kr { color: #008800; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #333399; font-weight: bold } /* Keyword.Type */
.highlight .m { color: #6600EE; font-weight: bold } /* Literal.Number */
.highlight .s { background-color: #fff0f0 } /* Literal.String */
.highlight .na { color: #0000CC } /* Name.Attribute */
.highlight .nb { color: #007020 } /* Name.Builtin */
.highlight .nc { color: #BB0066; font-weight: bold } /* Name.Class */
.highlight .no { color: #003366; font-weight: bold } /* Name.Constant */
.highlight .nd { color: #555555; font-weight: bold } /* Name.Decorator */
.highlight .ni { color: #880000; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #FF0000; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0066BB; font-weight: bold } /* Name.Function */
.highlight .nl { color: #997700; font-weight: bold } /* Name.Label */
.highlight .nn { color: #0e84b5; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #007700 } /* Name.Tag */
.highlight .nv { color: #996633 } /* Name.Variable */
.highlight .ow { color: #000000; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #6600EE; font-weight: bold } /* Literal.Number.Bin */
.highlight .mf { color: #6600EE; font-weight: bold } /* Literal.Number.Float */
.highlight .mh { color: #005588; font-weight: bold } /* Literal.Number.Hex */
.highlight .mi { color: #0000DD; font-weight: bold } /* Literal.Number.Integer */
.highlight .mo { color: #4400EE; font-weight: bold } /* Literal.Number.Oct */
.highlight .sa { background-color: #fff0f0 } /* Literal.String.Affix */
.highlight .sb { background-color: #fff0f0 } /* Literal.String.Backtick */
.highlight .sc { color: #0044DD } /* Literal.String.Char */
.highlight .dl { background-color: #fff0f0 } /* Literal.String.Delimiter */
.highlight .sd { color: #DD4422 } /* Literal.String.Doc */
.highlight .s2 { background-color: #fff0f0 } /* Literal.String.Double */
.highlight .se { color: #666666; font-weight: bold; background-color: #fff0f0 } /* Literal.String.Escape */
.highlight .sh { background-color: #fff0f0 } /* Literal.String.Heredoc */
.highlight .si { background-color: #eeeeee } /* Literal.String.Interpol */
.highlight .sx { color: #DD2200; background-color: #fff0f0 } /* Literal.String.Other */
.highlight .sr { color: #000000; background-color: #fff0ff } /* Literal.String.Regex */
.highlight .s1 { background-color: #fff0f0 } /* Literal.String.Single */
.highlight .ss { color: #AA6600 } /* Literal.String.Symbol */
.highlight .bp { color: #007020 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0066BB; font-weight: bold } /* Name.Function.Magic */
.highlight .vc { color: #336699 } /* Name.Variable.Class */
.highlight .vg { color: #dd7700; font-weight: bold } /* Name.Variable.Global */
.highlight .vi { color: #3333BB } /* Name.Variable.Instance */
.highlight .vm { color: #996633 } /* Name.Variable.Magic */
.highlight .il { color: #0000DD; font-weight: bold } /* Literal.Number.Integer.Long */
    </style>
    <script>
      function getStyle(el, styleProp) {
        var y;

        if (el.currentStyle) {
          y = el.currentStyle[styleProp];
        } else if (window.getComputedStyle) {
          y = document.defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);
        }

        return y;
      }

      function toggle() {
        var el = this.expandable_content;
        var mark = this.expandable_marker;

        if (el.style.display === "block") {
          el.style.display = "none";
          mark.textContent = "[+]";
        } else {
          el.style.display = "block";
          mark.textContent = "[-]";
        }
      }

      function initExpandables() {
        var elements = document.querySelectorAll(".expandable");

        for (var i = 0, len = elements.length; i < len; i++) {
          var el = elements[i];
          var clickable = el.querySelector("span");
          var marker = clickable.querySelector(".marker");
          var content = el.querySelector(".content");
          var width = clickable.clientWidth - parseInt(getStyle(content, "padding-left")) - parseInt(getStyle(content, "padding-right"));
          content.style.width = width + "px";
          clickable.expandable_content = content;
          clickable.expandable_marker = marker;
          clickable.addEventListener("click", toggle);
        }
      }

      function toggleDisplay(id) {
        var elements = document.querySelectorAll("." + id);

        for (var i = 0, len = elements.length; i < len; i++) {
          elements[i].classList.toggle("d-none");
        }
      }

      function toggleAll() {
        var elements = document.querySelectorAll("input");

        // starting from 1 since 0 is the "toggle all" input
        for (var i = 1, len = elements.length; i < len; i++) {
          var el = elements[i];

          if (el.checked) {
            el.checked = false;
          } else {
            el.checked = true;
          }

          toggleDisplay(el.id);
        }
      }
      window.addEventListener("load", initExpandables);
    </script>
  </head>
  <body>
    <div id="header" class="header">
      <h1>Cppcheck report - [<a href=https://github.com/quinoacomputing/quinoa/commit/-128-NOTFOUND>-128-NOTFOUND</a>]: /tmp/TeamCity-2/work/5ad443c8abe7fc0a/src/Main/MeshConv.cpp</h1>
    </div>
    <div class="wrapper">
      <div id="menu">
       <p id="filename"><a href="index.html">Defects:</a> MeshConv.cpp</p>
<a href="23.html#line-58"> unmatchedSuppression 58</a><a href="23.html#line-77"> noExplicitConstructor 77</a>
    </div>
    <div id="content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169</pre></div></td><td class="code"><div class="highlight"><pre><span></span><a name="line-1"></a><span class="c1">// *****************************************************************************</span>
<a name="line-2"></a><span class="cm">/*!</span>
<a name="line-3"></a><span class="cm">  \file      src/Main/MeshConv.cpp</span>
<a name="line-4"></a><span class="cm">  \copyright 2012-2015 J. Bakosi,</span>
<a name="line-5"></a><span class="cm">             2016-2018 Los Alamos National Security, LLC.,</span>
<a name="line-6"></a><span class="cm">             2019-2021 Triad National Security, LLC.</span>
<a name="line-7"></a><span class="cm">             All rights reserved. See the LICENSE file for details.</span>
<a name="line-8"></a><span class="cm">  \brief     Mesh file converter Charm++ main chare</span>
<a name="line-9"></a><span class="cm">  \details   Mesh file converter Charm++ main chare. This file contains the</span>
<a name="line-10"></a><span class="cm">    definition of the Charm++ main chare, equivalent to main() in Charm++-land.</span>
<a name="line-11"></a><span class="cm">*/</span>
<a name="line-12"></a><span class="c1">// *****************************************************************************</span>
<a name="line-13"></a>
<a name="line-14"></a><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp"></span>
<a name="line-15"></a><span class="cp">#include</span> <span class="cpf">&lt;utility&gt;</span><span class="cp"></span>
<a name="line-16"></a><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<a name="line-17"></a>
<a name="line-18"></a><span class="cp">#include</span> <span class="cpf">&quot;Print.hpp&quot;</span><span class="cp"></span>
<a name="line-19"></a><span class="cp">#include</span> <span class="cpf">&quot;Timer.hpp&quot;</span><span class="cp"></span>
<a name="line-20"></a><span class="cp">#include</span> <span class="cpf">&quot;Types.hpp&quot;</span><span class="cp"></span>
<a name="line-21"></a><span class="cp">#include</span> <span class="cpf">&quot;QuinoaConfig.hpp&quot;</span><span class="cp"></span>
<a name="line-22"></a><span class="cp">#include</span> <span class="cpf">&quot;Init.hpp&quot;</span><span class="cp"></span>
<a name="line-23"></a><span class="cp">#include</span> <span class="cpf">&quot;Tags.hpp&quot;</span><span class="cp"></span>
<a name="line-24"></a><span class="cp">#include</span> <span class="cpf">&quot;MeshConvDriver.hpp&quot;</span><span class="cp"></span>
<a name="line-25"></a><span class="cp">#include</span> <span class="cpf">&quot;MeshConv/CmdLine/CmdLine.hpp&quot;</span><span class="cp"></span>
<a name="line-26"></a><span class="cp">#include</span> <span class="cpf">&quot;MeshConv/CmdLine/Parser.hpp&quot;</span><span class="cp"></span>
<a name="line-27"></a><span class="cp">#include</span> <span class="cpf">&quot;ProcessException.hpp&quot;</span><span class="cp"></span>
<a name="line-28"></a><span class="cp">#include</span> <span class="cpf">&quot;ChareStateCollector.hpp&quot;</span><span class="cp"></span>
<a name="line-29"></a>
<a name="line-30"></a><span class="cp">#include</span> <span class="cpf">&quot;NoWarning/charm.hpp&quot;</span><span class="cp"></span>
<a name="line-31"></a><span class="cp">#include</span> <span class="cpf">&quot;NoWarning/meshconv.decl.h&quot;</span><span class="cp"></span>
<a name="line-32"></a>
<a name="line-33"></a><span class="cp">#if defined(__clang__)</span>
<a name="line-34"></a>  <span class="cp">#pragma clang diagnostic push</span>
<a name="line-35"></a>  <span class="cp">#pragma clang diagnostic ignored &quot;-Wmissing-variable-declarations&quot;</span>
<a name="line-36"></a><span class="cp">#endif</span>
<a name="line-37"></a>
<a name="line-38"></a><span class="c1">//! \brief Charm handle to the main proxy, facilitates call-back to finalize,</span>
<a name="line-39"></a><span class="c1">//!    etc., must be in global scope, unique per executable</span>
<a name="line-40"></a><span class="n">CProxy_Main</span> <span class="n">mainProxy</span><span class="p">;</span>
<a name="line-41"></a>
<a name="line-42"></a><span class="c1">//! Chare state collector Charm++ chare group proxy</span>
<a name="line-43"></a><span class="n">tk</span><span class="o">::</span><span class="n">CProxy_ChareStateCollector</span> <span class="n">stateProxy</span><span class="p">;</span>
<a name="line-44"></a>
<a name="line-45"></a><span class="c1">//! If true, call and stack traces are to be output with exceptions</span>
<a name="line-46"></a><span class="c1">//! \note This is true by default so that the trace is always output between</span>
<a name="line-47"></a><span class="c1">//!   program start and the Main ctor in which the user-input from command line</span>
<a name="line-48"></a><span class="c1">//!   setting for this overrides this true setting.</span>
<a name="line-49"></a><span class="kt">bool</span> <span class="n">g_trace</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<a name="line-50"></a>
<a name="line-51"></a><span class="cp">#if defined(__clang__)</span>
<a name="line-52"></a>  <span class="cp">#pragma clang diagnostic pop</span>
<a name="line-53"></a><span class="cp">#endif</span>
<a name="line-54"></a>
<a name="line-55"></a><span class="c1">//! \brief Charm++ main chare for the mesh converter executable, meshconv.</span>
<a name="line-56"></a><span class="c1">//! \details Note that this object should not be in a namespace.</span>
<a name="line-57"></a><span class="c1">// cppcheck-suppress noConstructor</span>
<a name="line-58"></a><span class="hll"><span class="k">class</span> <span class="nc">Main</span> <span class="o">:</span> <span class="k">public</span> <span class="n">CBase_Main</span> <span class="p">{</span><span class="error2">&lt;--- Unmatched suppression: noConstructor</span>
</span><a name="line-59"></a>
<a name="line-60"></a>  <span class="k">public</span><span class="o">:</span>
<a name="line-61"></a>    <span class="c1">//! \brief Constructor</span>
<a name="line-62"></a>    <span class="c1">//! \details MeshConv&#39;s main chare constructor is the entry point of the</span>
<a name="line-63"></a>    <span class="c1">//!   program, called by the Charm++ runtime system. The constructor does</span>
<a name="line-64"></a>    <span class="c1">//!   basic initialization steps, e.g., parser the command-line, prints out</span>
<a name="line-65"></a>    <span class="c1">//!   some useful information to screen (in verbose mode), and instantiates</span>
<a name="line-66"></a>    <span class="c1">//!   a driver. Since Charm++ is fully asynchronous, the constructor</span>
<a name="line-67"></a>    <span class="c1">//!   usually spawns asynchronous objects and immediately exits. Thus in the</span>
<a name="line-68"></a>    <span class="c1">//!   body of the main chare constructor we fire up an &#39;execute&#39; chare,</span>
<a name="line-69"></a>    <span class="c1">//!   which then calls back to Main::execute(). Finishing the main chare</span>
<a name="line-70"></a>    <span class="c1">//!   constructor the Charm++ runtime system then starts the</span>
<a name="line-71"></a>    <span class="c1">//!   network-migration of all global-scope data (if any). The execute chare</span>
<a name="line-72"></a>    <span class="c1">//!   calling back to Main::execute() signals the end of the migration of</span>
<a name="line-73"></a>    <span class="c1">//!   the global-scope data. Then we are ready to execute the driver which</span>
<a name="line-74"></a>    <span class="c1">//!   calls back to Main::finalize() when it finished. Then finalize() exits</span>
<a name="line-75"></a>    <span class="c1">//!   by calling Charm++&#39;s CkExit(), shutting down the runtime system.</span>
<a name="line-76"></a>    <span class="c1">//! \see http://charm.cs.illinois.edu/manuals/html/charm++/manual.html</span>
<a name="line-77"></a><span class="hll">    <span class="n">Main</span><span class="p">(</span> <span class="n">CkArgMsg</span><span class="o">*</span> <span class="n">msg</span> <span class="p">)</span><div class="verbose expandable"><span class="error2">&lt;--- Class 'Main' has a constructor with 1 argument that is not explicit. <span class="marker">[+]</span></span><div class="content">Class &apos;Main&apos; has a constructor with 1 argument that is not explicit. Such constructors should in general be explicit for type safety reasons. Using the explicit keyword in the constructor means some mistakes when using the class can be avoided.</div></div>
</span><a name="line-78"></a>    <span class="k">try</span> <span class="o">:</span>
<a name="line-79"></a>      <span class="n">m_signal</span><span class="p">(</span> <span class="n">tk</span><span class="o">::</span><span class="n">setSignalHandlers</span><span class="p">()</span> <span class="p">),</span>
<a name="line-80"></a>      <span class="n">m_cmdline</span><span class="p">(),</span>
<a name="line-81"></a>      <span class="c1">// Parse command line into m_cmdline using default simple pretty printer</span>
<a name="line-82"></a>      <span class="n">m_cmdParser</span><span class="p">(</span> <span class="n">msg</span><span class="o">-&gt;</span><span class="n">argc</span><span class="p">,</span> <span class="n">msg</span><span class="o">-&gt;</span><span class="n">argv</span><span class="p">,</span> <span class="n">tk</span><span class="o">::</span><span class="n">Print</span><span class="p">(),</span> <span class="n">m_cmdline</span> <span class="p">),</span>
<a name="line-83"></a>      <span class="c1">// Create MeshConv driver</span>
<a name="line-84"></a>      <span class="n">m_driver</span><span class="p">(</span> <span class="n">tk</span><span class="o">::</span><span class="n">Main</span><span class="o">&lt;</span> <span class="n">meshconv</span><span class="o">::</span><span class="n">MeshConvDriver</span> <span class="o">&gt;</span>
<a name="line-85"></a>                        <span class="p">(</span> <span class="n">msg</span><span class="o">-&gt;</span><span class="n">argc</span><span class="p">,</span> <span class="n">msg</span><span class="o">-&gt;</span><span class="n">argv</span><span class="p">,</span>
<a name="line-86"></a>                          <span class="n">m_cmdline</span><span class="p">,</span>
<a name="line-87"></a>                          <span class="n">tk</span><span class="o">::</span><span class="n">HeaderType</span><span class="o">::</span><span class="n">MESHCONV</span><span class="p">,</span>
<a name="line-88"></a>                          <span class="n">tk</span><span class="o">::</span><span class="n">meshconv_executable</span><span class="p">(),</span>
<a name="line-89"></a>                          <span class="n">m_cmdline</span><span class="p">.</span><span class="n">get</span><span class="o">&lt;</span> <span class="n">tag</span><span class="o">::</span><span class="n">io</span><span class="p">,</span> <span class="n">tag</span><span class="o">::</span><span class="n">screen</span> <span class="o">&gt;</span><span class="p">(),</span>
<a name="line-90"></a>                          <span class="n">m_cmdline</span><span class="p">.</span><span class="n">get</span><span class="o">&lt;</span> <span class="n">tag</span><span class="o">::</span><span class="n">io</span><span class="p">,</span> <span class="n">tag</span><span class="o">::</span><span class="n">nrestart</span> <span class="o">&gt;</span><span class="p">()</span> <span class="p">)</span> <span class="p">),</span>
<a name="line-91"></a>      <span class="n">m_timer</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>       <span class="c1">// Start new timer measuring the total runtime</span>
<a name="line-92"></a>      <span class="n">m_timestamp</span><span class="p">()</span>
<a name="line-93"></a>    <span class="p">{</span>
<a name="line-94"></a>      <span class="k">delete</span> <span class="n">msg</span><span class="p">;</span>
<a name="line-95"></a>      <span class="n">g_trace</span> <span class="o">=</span> <span class="n">m_cmdline</span><span class="p">.</span><span class="n">get</span><span class="o">&lt;</span> <span class="n">tag</span><span class="o">::</span><span class="n">trace</span> <span class="o">&gt;</span><span class="p">();</span>
<a name="line-96"></a>      <span class="n">tk</span><span class="o">::</span><span class="n">MainCtor</span><span class="p">(</span> <span class="n">mainProxy</span><span class="p">,</span> <span class="n">thisProxy</span><span class="p">,</span> <span class="n">m_timer</span><span class="p">,</span> <span class="n">m_cmdline</span><span class="p">,</span>
<a name="line-97"></a>                    <span class="n">CkCallback</span><span class="p">(</span> <span class="n">CkIndex_Main</span><span class="o">::</span><span class="n">quiescence</span><span class="p">(),</span> <span class="n">thisProxy</span> <span class="p">)</span> <span class="p">);</span>
<a name="line-98"></a>      <span class="c1">// If quiescence detection is on or user requested it, create chare state</span>
<a name="line-99"></a>      <span class="c1">// collector Charm++ chare group</span>
<a name="line-100"></a>      <span class="k">if</span> <span class="p">(</span> <span class="n">m_cmdline</span><span class="p">.</span><span class="n">get</span><span class="o">&lt;</span> <span class="n">tag</span><span class="o">::</span><span class="n">chare</span> <span class="o">&gt;</span><span class="p">()</span> <span class="o">||</span> <span class="n">m_cmdline</span><span class="p">.</span><span class="n">get</span><span class="o">&lt;</span> <span class="n">tag</span><span class="o">::</span><span class="n">quiescence</span> <span class="o">&gt;</span><span class="p">()</span> <span class="p">)</span>
<a name="line-101"></a>        <span class="n">stateProxy</span> <span class="o">=</span> <span class="n">tk</span><span class="o">::</span><span class="n">CProxy_ChareStateCollector</span><span class="o">::</span><span class="n">ckNew</span><span class="p">();</span>
<a name="line-102"></a>      <span class="c1">// Fire up an asynchronous execute object, which when created at some</span>
<a name="line-103"></a>      <span class="c1">// future point in time will call back to this-&gt;execute(). This is</span>
<a name="line-104"></a>      <span class="c1">// necessary so that this-&gt;execute() can access already migrated</span>
<a name="line-105"></a>      <span class="c1">// global-scope data.</span>
<a name="line-106"></a>      <span class="n">CProxy_execute</span><span class="o">::</span><span class="n">ckNew</span><span class="p">();</span>
<a name="line-107"></a>    <span class="p">}</span> <span class="k">catch</span> <span class="p">(...)</span> <span class="p">{</span> <span class="n">tk</span><span class="o">::</span><span class="n">processExceptionCharm</span><span class="p">();</span> <span class="p">}</span>
<a name="line-108"></a>
<a name="line-109"></a>    <span class="kt">void</span> <span class="n">execute</span><span class="p">()</span> <span class="p">{</span>
<a name="line-110"></a>      <span class="k">try</span> <span class="p">{</span>
<a name="line-111"></a>        <span class="n">m_timestamp</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span><span class="s">&quot;Migrate global-scope data&quot;</span><span class="p">,</span> <span class="n">m_timer</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">hms</span><span class="p">());</span>
<a name="line-112"></a>        <span class="n">m_driver</span><span class="p">.</span><span class="n">execute</span><span class="p">();</span>
<a name="line-113"></a>      <span class="p">}</span> <span class="k">catch</span> <span class="p">(...)</span> <span class="p">{</span> <span class="n">tk</span><span class="o">::</span><span class="n">processExceptionCharm</span><span class="p">();</span> <span class="p">}</span>
<a name="line-114"></a>    <span class="p">}</span>
<a name="line-115"></a>
<a name="line-116"></a>    <span class="c1">//! Towards normal exit but collect chare state first (if any)</span>
<a name="line-117"></a>    <span class="kt">void</span> <span class="n">finalize</span><span class="p">()</span> <span class="p">{</span>
<a name="line-118"></a>      <span class="n">tk</span><span class="o">::</span><span class="n">finalize</span><span class="p">(</span> <span class="n">m_cmdline</span><span class="p">,</span> <span class="n">m_timer</span><span class="p">,</span> <span class="n">stateProxy</span><span class="p">,</span> <span class="n">m_timestamp</span><span class="p">,</span>
<a name="line-119"></a>        <span class="n">m_cmdline</span><span class="p">.</span><span class="n">get</span><span class="o">&lt;</span> <span class="n">tag</span><span class="o">::</span><span class="n">io</span><span class="p">,</span> <span class="n">tag</span><span class="o">::</span><span class="n">screen</span> <span class="o">&gt;</span><span class="p">(),</span>
<a name="line-120"></a>        <span class="n">m_cmdline</span><span class="p">.</span><span class="n">get</span><span class="o">&lt;</span> <span class="n">tag</span><span class="o">::</span><span class="n">io</span><span class="p">,</span> <span class="n">tag</span><span class="o">::</span><span class="n">nrestart</span> <span class="o">&gt;</span><span class="p">(),</span>
<a name="line-121"></a>        <span class="n">CkCallback</span><span class="p">(</span> <span class="n">CkIndex_Main</span><span class="o">::</span><span class="n">dumpstate</span><span class="p">(</span><span class="k">nullptr</span><span class="p">),</span> <span class="n">thisProxy</span> <span class="p">)</span> <span class="p">);</span>
<a name="line-122"></a>    <span class="p">}</span>
<a name="line-123"></a>
<a name="line-124"></a>    <span class="c1">//! Add a time stamp contributing to final timers output</span>
<a name="line-125"></a>    <span class="kt">void</span> <span class="n">timestamp</span><span class="p">(</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">label</span><span class="p">,</span> <span class="n">tk</span><span class="o">::</span><span class="n">real</span> <span class="n">stamp</span> <span class="p">)</span> <span class="p">{</span>
<a name="line-126"></a>      <span class="k">try</span> <span class="p">{</span>
<a name="line-127"></a>        <span class="n">m_timestamp</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span> <span class="n">label</span><span class="p">,</span> <span class="n">tk</span><span class="o">::</span><span class="n">hms</span><span class="p">(</span> <span class="n">stamp</span> <span class="p">)</span> <span class="p">);</span>
<a name="line-128"></a>      <span class="p">}</span> <span class="k">catch</span> <span class="p">(...)</span> <span class="p">{</span> <span class="n">tk</span><span class="o">::</span><span class="n">processExceptionCharm</span><span class="p">();</span> <span class="p">}</span>
<a name="line-129"></a>    <span class="p">}</span>
<a name="line-130"></a>    <span class="c1">//! Add multiple time stamps contributing to final timers output</span>
<a name="line-131"></a>    <span class="kt">void</span> <span class="n">timestamp</span><span class="p">(</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">tk</span><span class="o">::</span><span class="n">real</span> <span class="o">&gt;</span> <span class="o">&gt;&amp;</span> <span class="n">s</span> <span class="p">)</span>
<a name="line-132"></a>    <span class="p">{</span> <span class="k">for</span> <span class="p">(</span><span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="nl">t</span> <span class="p">:</span> <span class="n">s</span><span class="p">)</span> <span class="n">timestamp</span><span class="p">(</span> <span class="n">t</span><span class="p">.</span><span class="n">first</span><span class="p">,</span> <span class="n">t</span><span class="p">.</span><span class="n">second</span> <span class="p">);</span> <span class="p">}</span>
<a name="line-133"></a>
<a name="line-134"></a>    <span class="c1">//! Entry method triggered when quiescence is detected</span>
<a name="line-135"></a>    <span class="kt">void</span> <span class="n">quiescence</span><span class="p">()</span> <span class="p">{</span>
<a name="line-136"></a>      <span class="k">try</span> <span class="p">{</span>
<a name="line-137"></a>        <span class="n">stateProxy</span><span class="p">.</span><span class="n">collect</span><span class="p">(</span> <span class="cm">/* error= */</span> <span class="nb">true</span><span class="p">,</span>
<a name="line-138"></a>          <span class="n">CkCallback</span><span class="p">(</span> <span class="n">CkIndex_Main</span><span class="o">::</span><span class="n">dumpstate</span><span class="p">(</span><span class="k">nullptr</span><span class="p">),</span> <span class="n">thisProxy</span> <span class="p">)</span> <span class="p">);</span>
<a name="line-139"></a>      <span class="p">}</span> <span class="k">catch</span> <span class="p">(...)</span> <span class="p">{</span> <span class="n">tk</span><span class="o">::</span><span class="n">processExceptionCharm</span><span class="p">();</span> <span class="p">}</span>
<a name="line-140"></a>    <span class="p">}</span>
<a name="line-141"></a>
<a name="line-142"></a>    <span class="c1">//! Dump chare state</span>
<a name="line-143"></a>    <span class="kt">void</span> <span class="n">dumpstate</span><span class="p">(</span> <span class="n">CkReductionMsg</span><span class="o">*</span> <span class="n">msg</span> <span class="p">)</span> <span class="p">{</span>
<a name="line-144"></a>      <span class="n">tk</span><span class="o">::</span><span class="n">dumpstate</span><span class="p">(</span> <span class="n">m_cmdline</span><span class="p">,</span>
<a name="line-145"></a>        <span class="n">m_cmdline</span><span class="p">.</span><span class="n">get</span><span class="o">&lt;</span> <span class="n">tag</span><span class="o">::</span><span class="n">io</span><span class="p">,</span> <span class="n">tag</span><span class="o">::</span><span class="n">screen</span> <span class="o">&gt;</span><span class="p">(),</span>
<a name="line-146"></a>        <span class="n">m_cmdline</span><span class="p">.</span><span class="n">get</span><span class="o">&lt;</span> <span class="n">tag</span><span class="o">::</span><span class="n">io</span><span class="p">,</span> <span class="n">tag</span><span class="o">::</span><span class="n">nrestart</span> <span class="o">&gt;</span><span class="p">(),</span>
<a name="line-147"></a>        <span class="n">msg</span> <span class="p">);</span>
<a name="line-148"></a>    <span class="p">}</span>
<a name="line-149"></a>
<a name="line-150"></a>  <span class="k">private</span><span class="o">:</span>
<a name="line-151"></a>    <span class="kt">int</span> <span class="n">m_signal</span><span class="p">;</span>                               <span class="c1">//!&lt; Used to set signal handlers</span>
<a name="line-152"></a>    <span class="n">meshconv</span><span class="o">::</span><span class="n">ctr</span><span class="o">::</span><span class="n">CmdLine</span> <span class="n">m_cmdline</span><span class="p">;</span>           <span class="c1">//!&lt; Command line</span>
<a name="line-153"></a>    <span class="n">meshconv</span><span class="o">::</span><span class="n">CmdLineParser</span> <span class="n">m_cmdParser</span><span class="p">;</span>        <span class="c1">//!&lt; Command line parser</span>
<a name="line-154"></a>    <span class="n">meshconv</span><span class="o">::</span><span class="n">MeshConvDriver</span> <span class="n">m_driver</span><span class="p">;</span>          <span class="c1">//!&lt; Driver</span>
<a name="line-155"></a>    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span> <span class="n">tk</span><span class="o">::</span><span class="n">Timer</span> <span class="o">&gt;</span> <span class="n">m_timer</span><span class="p">;</span>           <span class="c1">//!&lt; Timers</span>
<a name="line-156"></a>
<a name="line-157"></a>    <span class="c1">//! Time stamps in h:m:s with labels</span>
<a name="line-158"></a>    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">tk</span><span class="o">::</span><span class="n">Timer</span><span class="o">::</span><span class="n">Watch</span> <span class="o">&gt;</span> <span class="o">&gt;</span> <span class="n">m_timestamp</span><span class="p">;</span>
<a name="line-159"></a><span class="p">};</span>
<a name="line-160"></a>
<a name="line-161"></a><span class="c1">//! \brief Charm++ chare execute</span>
<a name="line-162"></a><span class="c1">//! \details By the time this object is constructed, the Charm++ runtime system</span>
<a name="line-163"></a><span class="c1">//!    has finished migrating all global-scoped read-only objects which happens</span>
<a name="line-164"></a><span class="c1">//!    after the main chare constructor has finished.</span>
<a name="line-165"></a><span class="k">class</span> <span class="nc">execute</span> <span class="o">:</span> <span class="k">public</span> <span class="n">CBase_execute</span> <span class="p">{</span>
<a name="line-166"></a>  <span class="k">public</span><span class="o">:</span> <span class="n">execute</span><span class="p">()</span> <span class="p">{</span> <span class="n">mainProxy</span><span class="p">.</span><span class="n">execute</span><span class="p">();</span> <span class="p">}</span>
<a name="line-167"></a><span class="p">};</span>
<a name="line-168"></a>
<a name="line-169"></a><span class="cp">#include</span> <span class="cpf">&quot;NoWarning/meshconv.def.h&quot;</span><span class="cp"></span>
</pre></div>
</td></tr></table>
      </div> <!-- /.wrapper -->
    </div>
    <div id="footer" class="footer">
      <p>
        Cppcheck 2.3 - a tool for static C/C++ code analysis<br>
        <br>
        Internet: <a href="http://cppcheck.net">http://cppcheck.net</a><br>
        IRC: <a href="irc://irc.freenode.net/cppcheck">irc://irc.freenode.net/cppcheck</a><br>
      </p>
    </div>
  </body>
</html>
