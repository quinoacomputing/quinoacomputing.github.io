<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>inciter::ALECG class | Quinoa docs</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="quinoa.m-dark-noindent+doxygen.compiled.css" />
  <link rel="icon" href="quinoa_sum.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">Quinoa <span class="m-thin">docs</span></a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-dox-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="why.html">Why</a></li>
            <li>
              <a href="build.html">Build</a>
              <ol>
                <li><a href="git_submodules_subtrees.html">Modules</a></li>
                <li><a href="licenses.html">Libraries</a></li>
                <li><a href="build_system.html">Internals</a></li>
              </ol>
            </li>
            <li>
              <a href="https://quinoacomputing.github.io/index.html#mainpage_tools">Tools</a>
              <ol>
                <li><a href="inciter_main.html">Inciter</a></li>
                <li><a href="unittest_main.html">UnitTest</a></li>
                <li><a href="meshconv_main.html">MeshConv</a></li>
              </ol>
            </li>
            <li><a href="namespaces.html">Namespaces</a></li>
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="7">
            <li>
              <a href="resources.html">Resources</a>
              <ol>
                <li><a href="https://github.com/quinoacomputing/quinoa">GitHub</a></li>
                <li><a href="papers.html">Publications</a></li>
                <li><a href="https://github.com/quinoacomputing/quinoa/blob/master/LICENSE">License</a></li>
                <li><a href="roadmap.html">Roadmap</a></li>
                <li><a href="contributing.html">Contributing</a></li>
                <li><a href="coverage.html">Coverage</a></li>
                <li><a href="https://github.com/quinoacomputing/quinoa/releases">Tarballs</a></li>
                <li><a href="https://bestpractices.coreinfrastructure.org/projects/2120">Practices</a></li>
              </ol>
            </li>
            <li class="m-show-m"><a href="#search" class="m-dox-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="namespaceinciter.html">inciter</a>::<wbr/></span>ALECG <span class="m-thin">class</span>
        </h1>
        <p><a href="classinciter_1_1_a_l_e_c_g.html" class="m-dox">ALECG</a> Charm++ chare array used to advance PDEs in time with ALECG+RK.</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#pub-static-methods">Public static functions</a></li>
                <li><a href="#typeless-methods">Constructors, destructors, conversion operators</a></li>
                <li><a href="#pub-methods">Public functions</a></li>
                <li><a href="#charm-packunpack-serializer-member-functions">Charm++ pack/unpack serializer member functions</a></li>
              </ul>
            </li>
          </ul>
        </div>
        <section id="pub-static-methods">
          <h2><a href="#pub-static-methods">Public static functions</a></h2>
          <dl class="m-dox">
            <dt>
              <span class="m-dox-wrap-bumper">static void <a href="#ae1c431a552a76e269a3b35081557a70f" class="m-dox">registerReducers</a>(</span><span class="m-dox-wrap">)</span>
            </dt>
            <dd>Configure Charm++ custom reduction types initiated from this chare array.</dd>
          </dl>
        </section>
        <section id="typeless-methods">
          <h2><a href="#typeless-methods">Constructors, destructors, conversion operators</a></h2>
          <dl class="m-dox">
            <dt>
              <span class="m-dox-wrap-bumper"><a href="#ae1823622990171393c18fc63100754ba" class="m-dox-self" name="ae1823622990171393c18fc63100754ba">ALECG</a>(</span><span class="m-dox-wrap">CkMigrateMessage* msg) <span class="m-label m-flat m-info">explicit</span> </span>
            </dt>
            <dd>Migrate constructor.</dd>
          </dl>
        </section>
        <section id="pub-methods">
          <h2><a href="#pub-methods">Public functions</a></h2>
          <dl class="m-dox">
            <dt>
              <span class="m-dox-wrap-bumper">auto <a href="#a01bf58a786b717b7b0269d827eb3e2ce" class="m-dox">ALECG</a>(</span><span class="m-dox-wrap">const CProxy_Discretization&amp; disc,
              const CProxy_Ghosts&amp; ghostsproxy,
              const std::map&lt;int, std::vector&lt;std::size_t&gt;&gt;&amp; bface,
              const std::map&lt;int, std::vector&lt;std::size_t&gt;&gt;&amp; bnode,
              const std::vector&lt;std::size_t&gt;&amp; triinpoel) -&gt; ALECG_SDAG_CODE <span class="m-label m-flat m-info">explicit</span> </span>
            </dt>
            <dd>Constructor.</dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#aa6f44f484b2d37b196d01a9cc1e0339d" class="m-dox">ResumeFromSync</a>(</span><span class="m-dox-wrap">) override</span>
            </dt>
            <dd>Return from migration.</dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#a987b8113d88280b2f48561302069ae6c" class="m-dox-self" name="a987b8113d88280b2f48561302069ae6c">resizeComm</a>(</span><span class="m-dox-wrap">)</span>
            </dt>
            <dd>Size communication buffers (no-op)</dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#ade1aa9ec9d5d050b486226a9e31859d3" class="m-dox-self" name="ade1aa9ec9d5d050b486226a9e31859d3">nodeNeighSetup</a>(</span><span class="m-dox-wrap">)</span>
            </dt>
            <dd>Setup node-neighborhood (no-op)</dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#a08580c19f39310f066721609d9e4bcd3" class="m-dox">setup</a>(</span><span class="m-dox-wrap">)</span>
            </dt>
            <dd>Start setup for solution.</dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#a5719e315ad96c6a26998bc58d7cb6687" class="m-dox">box</a>(</span><span class="m-dox-wrap"><a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a> v,
              const std::vector&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>&gt;&amp; blkvols)</span>
            </dt>
            <dd>Receive total box IC volume and set conditions in box.</dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#a95226f468e03957134e16ac0857d32dd" class="m-dox-self" name="a95226f468e03957134e16ac0857d32dd">start</a>(</span><span class="m-dox-wrap">)</span>
            </dt>
            <dd>[start]</dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#a8471053d9f3da3a7a692876e3294f7fe" class="m-dox">advance</a>(</span><span class="m-dox-wrap"><a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a> newdt)</span>
            </dt>
            <dd>Advance equations to next time step.</dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#afd553a3a909e3c29e19108fc7ed3d00b" class="m-dox">lhs</a>(</span><span class="m-dox-wrap">)</span>
            </dt>
            <dd>Compute left-hand side of transport equations.</dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#a08dcf4d7bc80ed4a06caad090542f084" class="m-dox">comdfnorm</a>(</span><span class="m-dox-wrap">const std::unordered_map&lt;<a href="classtk_1_1_uns_mesh.html#a622c34bab099c772650f046b848346d7" class="m-dox">tk::<wbr />UnsMesh::<wbr />Edge</a>, std::array&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>, 3&gt;, <a href="structtk_1_1_uns_mesh_1_1_hash.html" class="m-dox">tk::<wbr />UnsMesh::<wbr />Hash</a>&lt;2&gt;, <a href="structtk_1_1_uns_mesh_1_1_eq.html" class="m-dox">tk::<wbr />UnsMesh::<wbr />Eq</a>&lt;2&gt;&gt;&amp; dfnorm)</span>
            </dt>
            <dd>Receive contributions to duual-face normals on chare boundaries.</dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#a687d56c3e327c8b9b9cbd4c1eb605f56" class="m-dox">comnorm</a>(</span><span class="m-dox-wrap">const std::unordered_map&lt;int, std::unordered_map&lt;std::size_t, std::array&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>, 4&gt;&gt;&gt;&amp; innorm)</span>
            </dt>
            <dd>Receive boundary point normals on chare-boundaries.</dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#aebb2f310d9a787aa9f5eb645f432e128" class="m-dox">comblk</a>(</span><span class="m-dox-wrap">const std::vector&lt;std::size_t&gt;&amp; gid,
              const std::vector&lt;std::set&lt;std::size_t&gt;&gt;&amp; mb)</span>
            </dt>
            <dd>Receive mesh block information for nodes on chare-boundaries.</dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#a7191b6d52651333c69e912aa31624c3f" class="m-dox">comChBndGrad</a>(</span><span class="m-dox-wrap">const std::vector&lt;std::size_t&gt;&amp; gid,
              const std::vector&lt;std::vector&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>&gt;&gt;&amp; G)</span>
            </dt>
            <dd>Receive contributions to gradients on chare-boundaries.</dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#acc3f3f3d9d1796e7292df60a359ecd7f" class="m-dox">comrhs</a>(</span><span class="m-dox-wrap">const std::vector&lt;std::size_t&gt;&amp; gid,
              const std::vector&lt;std::vector&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>&gt;&gt;&amp; R)</span>
            </dt>
            <dd>Receive contributions to right-hand side vector on chare-boundaries.</dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#adc257800a545a7984883db28196235d5" class="m-dox-self" name="adc257800a545a7984883db28196235d5">update</a>(</span><span class="m-dox-wrap">const tk::Fields&amp; a)</span>
            </dt>
            <dd>Update solution at the end of time step.</dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#aea0413abbbb9139a38dacd24e3adf484" class="m-dox">refine</a>(</span><span class="m-dox-wrap">const std::vector&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>&gt;&amp; l2res)</span>
            </dt>
            <dd>Optionally refine/derefine mesh.</dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#a2f2bc3079d5ebdec5fe4ee60658cce8d" class="m-dox">resizePostAMR</a>(</span><span class="m-dox-wrap">const std::vector&lt;std::size_t&gt;&amp; ginpoel,
              const <a href="classtk_1_1_uns_mesh.html#a87277adba5b6fc23035adcd8dd6cb0e5" class="m-dox">tk::<wbr />UnsMesh::<wbr />Chunk</a>&amp; chunk,
              const <a href="classtk_1_1_uns_mesh.html#a2ed8d512b099636a98ba6b35b1118d6f" class="m-dox">tk::<wbr />UnsMesh::<wbr />Coords</a>&amp; coord,
              const std::unordered_map&lt;std::size_t, <a href="classtk_1_1_uns_mesh.html#a622c34bab099c772650f046b848346d7" class="m-dox">tk::<wbr />UnsMesh::<wbr />Edge</a>&gt;&amp; addedNodes,
              const std::unordered_map&lt;std::size_t, std::size_t&gt;&amp; addedTets,
              const std::set&lt;std::size_t&gt;&amp; removedNodes,
              const std::unordered_map&lt;std::size_t, std::size_t&gt;&amp; amrNodeMap,
              const <a href="namespacetk.html#afae1f1be5bf7e58189087d896b6d6ad4" class="m-dox">tk::<wbr />NodeCommMap</a>&amp; nodeCommMap,
              const std::map&lt;int, std::vector&lt;std::size_t&gt;&gt;&amp; bface,
              const std::map&lt;int, std::vector&lt;std::size_t&gt;&gt;&amp; bnode,
              const std::vector&lt;std::size_t&gt;&amp; triinpoel,
              const std::unordered_map&lt;std::size_t, std::set&lt;std::size_t&gt;&gt;&amp; elemblockid)</span>
            </dt>
            <dd>Receive new mesh from <a href="classinciter_1_1_refiner.html" class="m-dox">Refiner</a>.</dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#abcba641752b3363d9e51abae20f862f6" class="m-dox-self" name="abcba641752b3363d9e51abae20f862f6">extractFieldOutput</a>(</span><span class="m-dox-wrap">const std::vector&lt;std::size_t&gt;&amp;,
              const <a href="classtk_1_1_uns_mesh.html#a87277adba5b6fc23035adcd8dd6cb0e5" class="m-dox">tk::<wbr />UnsMesh::<wbr />Chunk</a>&amp;,
              const <a href="classtk_1_1_uns_mesh.html#a2ed8d512b099636a98ba6b35b1118d6f" class="m-dox">tk::<wbr />UnsMesh::<wbr />Coords</a>&amp;,
              const std::unordered_map&lt;std::size_t, <a href="classtk_1_1_uns_mesh.html#a622c34bab099c772650f046b848346d7" class="m-dox">tk::<wbr />UnsMesh::<wbr />Edge</a>&gt;&amp;,
              const std::unordered_map&lt;std::size_t, std::size_t&gt;&amp;,
              const <a href="namespacetk.html#afae1f1be5bf7e58189087d896b6d6ad4" class="m-dox">tk::<wbr />NodeCommMap</a>&amp;,
              const std::map&lt;int, std::vector&lt;std::size_t&gt;&gt;&amp;,
              const std::map&lt;int, std::vector&lt;std::size_t&gt;&gt;&amp;,
              const std::vector&lt;std::size_t&gt;&amp;,
              CkCallback)</span>
            </dt>
            <dd>Extract field output to file.</dd>
            <dt>
              <span class="m-dox-wrap-bumper">auto <a href="#a489c148b51da4634f5a1b6a4097479c3" class="m-dox">solution</a>(</span><span class="m-dox-wrap">) const -&gt; const tk::Fields&amp;</span>
            </dt>
            <dd></dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#a942a8e36e18839fc44b8cf68d1d956ff" class="m-dox-self" name="a942a8e36e18839fc44b8cf68d1d956ff">meshvelstart</a>(</span><span class="m-dox-wrap">)</span>
            </dt>
            <dd>Start computing the mesh mesh velocity for <a href="classinciter_1_1_a_l_e.html" class="m-dox">ALE</a>.</dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#a51840551b3fb324db2e96602a2b99dae" class="m-dox-self" name="a51840551b3fb324db2e96602a2b99dae">meshveldone</a>(</span><span class="m-dox-wrap">)</span>
            </dt>
            <dd>Done with computing the mesh velocity for <a href="classinciter_1_1_a_l_e.html" class="m-dox">ALE</a> mesh motion.</dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#a29637575b556dbecaa16189d4dad0f80" class="m-dox">resized</a>(</span><span class="m-dox-wrap">)</span>
            </dt>
            <dd>Resizing data sutrctures after mesh refinement has been completed.</dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#a5e978ae187e45c71dac01274dcaec762" class="m-dox-self" name="a5e978ae187e45c71dac01274dcaec762">step</a>(</span><span class="m-dox-wrap">)</span>
            </dt>
            <dd>Evaluate whether to continue with next time step.</dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#ac0dc10310c84aa87229d18541fe38467" class="m-dox">evalLB</a>(</span><span class="m-dox-wrap">int nrestart)</span>
            </dt>
            <dd></dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#a603abfa2427e70b053d010e5d9675b4b" class="m-dox">stage</a>(</span><span class="m-dox-wrap">)</span>
            </dt>
            <dd>Evaluate whether to continue with next time step stage.</dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#a9145ab458253f1e45837d5f795d60d85" class="m-dox-self" name="a9145ab458253f1e45837d5f795d60d85">next</a>(</span><span class="m-dox-wrap">)</span>
            </dt>
            <dd>Continue to next time step.</dd>
          </dl>
        </section>
        <section id="charm-packunpack-serializer-member-functions">
          <h2><a href="#charm-packunpack-serializer-member-functions">Charm++ pack/unpack serializer member functions</a></h2>
          <dl class="m-dox">
            <dt>CProxy_Discretization <a href="#a431b797cdb4db5d29df3b6cd109a836c" class="m-dox-self" name="a431b797cdb4db5d29df3b6cd109a836c">m_disc</a></dt>
            <dd><a href="classinciter_1_1_discretization.html" class="m-dox">Discretization</a> proxy.</dd>
            <dt>std::size_t <a href="#aad14691e3cd232d084f17a084f37facb" class="m-dox-self" name="aad14691e3cd232d084f17a084f37facb">m_nsol</a></dt>
            <dd>Counter for high order solution vector nodes updated.</dd>
            <dt>std::size_t <a href="#a3119295311ad0024759198c0eaf57d67" class="m-dox-self" name="a3119295311ad0024759198c0eaf57d67">m_ngrad</a></dt>
            <dd>Counter for nodal gradients updated.</dd>
            <dt>std::size_t <a href="#a245aa5573e913c82b1fc9948fc4afd3b" class="m-dox-self" name="a245aa5573e913c82b1fc9948fc4afd3b">m_nrhs</a></dt>
            <dd>Counter for right-hand side vector nodes updated.</dd>
            <dt>std::size_t <a href="#a7162020b7a8cabb89318c9183dec9589" class="m-dox-self" name="a7162020b7a8cabb89318c9183dec9589">m_nbnorm</a></dt>
            <dd>Counter for receiving boundary point normals.</dd>
            <dt>std::size_t <a href="#a1c69df3d4c5b17e2ccaf338a4fb5969d" class="m-dox-self" name="a1c69df3d4c5b17e2ccaf338a4fb5969d">m_ndfnorm</a></dt>
            <dd>Counter for receiving dual-face normals on chare-boundary edges.</dd>
            <dt>std::size_t <a href="#a7a826f41f5d68b0091034cf7e558f897" class="m-dox-self" name="a7a826f41f5d68b0091034cf7e558f897">m_nmblk</a></dt>
            <dd>Counter for mesh block nodes updated.</dd>
            <dt>std::map&lt;int, std::vector&lt;std::size_t&gt;&gt; <a href="#a2bb2e2690c907657661b9e23edd64117" class="m-dox-self" name="a2bb2e2690c907657661b9e23edd64117">m_bnode</a></dt>
            <dd>Boundary node lists mapped to side set ids used in the input file.</dd>
            <dt>std::map&lt;int, std::vector&lt;std::size_t&gt;&gt; <a href="#af149f8858ad6bdb13cc60a0cffaa023e" class="m-dox-self" name="af149f8858ad6bdb13cc60a0cffaa023e">m_bface</a></dt>
            <dd>Boundary face lists mapped to side set ids used in the input file.</dd>
            <dt>std::vector&lt;std::size_t&gt; <a href="#a50b9a451011820b6e21e0f857c209349" class="m-dox-self" name="a50b9a451011820b6e21e0f857c209349">m_triinpoel</a></dt>
            <dd>Boundary triangle face connecitivity where BCs are set by user.</dd>
            <dt>std::vector&lt;std::size_t&gt; <a href="#a1b98d1848fcdc107bed34bf60c5dc18b" class="m-dox-self" name="a1b98d1848fcdc107bed34bf60c5dc18b">m_bndel</a></dt>
            <dd>Elements along mesh boundary.</dd>
            <dt>std::unordered_map&lt;<a href="classtk_1_1_uns_mesh.html#a622c34bab099c772650f046b848346d7" class="m-dox">tk::<wbr />UnsMesh::<wbr />Edge</a>, std::array&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>, 3&gt;, <a href="structtk_1_1_uns_mesh_1_1_hash.html" class="m-dox">tk::<wbr />UnsMesh::<wbr />Hash</a>&lt;2&gt;, <a href="structtk_1_1_uns_mesh_1_1_eq.html" class="m-dox">tk::<wbr />UnsMesh::<wbr />Eq</a>&lt;2&gt;&gt; <a href="#a51084f73cce66e77d090f28d1597a300" class="m-dox-self" name="a51084f73cce66e77d090f28d1597a300">m_dfnorm</a></dt>
            <dd>Dual-face normals along edges.</dd>
            <dt>std::unordered_map&lt;<a href="classtk_1_1_uns_mesh.html#a622c34bab099c772650f046b848346d7" class="m-dox">tk::<wbr />UnsMesh::<wbr />Edge</a>, std::array&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>, 3&gt;, <a href="structtk_1_1_uns_mesh_1_1_hash.html" class="m-dox">tk::<wbr />UnsMesh::<wbr />Hash</a>&lt;2&gt;, <a href="structtk_1_1_uns_mesh_1_1_eq.html" class="m-dox">tk::<wbr />UnsMesh::<wbr />Eq</a>&lt;2&gt;&gt; <a href="#ab12b9766b345249c821215c9955a1226" class="m-dox-self" name="ab12b9766b345249c821215c9955a1226">m_dfnormc</a></dt>
            <dd>Receive buffer for dual-face normals along chare-boundary edges.</dd>
            <dt>std::vector&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>&gt; <a href="#a1bf2a183cf79a52b1bb9a91329f5e6f1" class="m-dox-self" name="a1bf2a183cf79a52b1bb9a91329f5e6f1">m_dfn</a></dt>
            <dd>Streamable dual-face normals.</dd>
            <dt>std::pair&lt;std::vector&lt;std::size_t&gt;, std::vector&lt;std::size_t&gt;&gt; <a href="#acb2f27a4253ce7f1421f66bec682d298" class="m-dox-self" name="acb2f27a4253ce7f1421f66bec682d298">m_esup</a></dt>
            <dd>El;ements surrounding points.</dd>
            <dt>std::pair&lt;std::vector&lt;std::size_t&gt;, std::vector&lt;std::size_t&gt;&gt; <a href="#a229761211b321cc6225f10f02bce2051" class="m-dox-self" name="a229761211b321cc6225f10f02bce2051">m_psup</a></dt>
            <dd>Points surrounding points.</dd>
            <dt>tk::Fields <a href="#a8540cc3072f34976097cb58b7d7b1c1f" class="m-dox-self" name="a8540cc3072f34976097cb58b7d7b1c1f">m_u</a></dt>
            <dd>Unknown/solution vector at mesh nodes.</dd>
            <dt>tk::Fields <a href="#aa80a923353fdd42bc62a609a0a902eb8" class="m-dox-self" name="aa80a923353fdd42bc62a609a0a902eb8">m_un</a></dt>
            <dd>Unknown/solution vector at mesh nodes at previous time.</dd>
            <dt>tk::Fields <a href="#abab16f53f25f6f03ef5f8d6a4be98264" class="m-dox-self" name="abab16f53f25f6f03ef5f8d6a4be98264">m_rhs</a></dt>
            <dd>Right-hand side vector (for the high order system)</dd>
            <dt>std::unordered_map&lt;std::size_t, std::vector&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>&gt;&gt; <a href="#a538f67d4fa37f3ce3008a7f8cfee7b38" class="m-dox">m_rhsc</a></dt>
            <dd></dd>
            <dt>tk::Fields <a href="#ab5d5f92f9d6933f1d9441243864a7afe" class="m-dox-self" name="ab5d5f92f9d6933f1d9441243864a7afe">m_chBndGrad</a></dt>
            <dd>Nodal gradients at chare-boundary nodes.</dd>
            <dt>std::unordered_map&lt;std::size_t, std::vector&lt;std::pair&lt;bool, <a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>&gt;&gt;&gt; <a href="#ae491269f575d0b1982f990e60927798c" class="m-dox">m_dirbc</a></dt>
            <dd></dd>
            <dt>std::unordered_map&lt;std::size_t, std::vector&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>&gt;&gt; <a href="#a50b0c28808cc99414921229353063543" class="m-dox">m_chBndGradc</a></dt>
            <dd></dd>
            <dt><a href="classinciter_1_1_node_diagnostics.html" class="m-dox">NodeDiagnostics</a> <a href="#a13e40c8c624a0443b3dec40797a4f8b3" class="m-dox-self" name="a13e40c8c624a0443b3dec40797a4f8b3">m_diag</a></dt>
            <dd>Diagnostics object.</dd>
            <dt>std::unordered_map&lt;int, std::unordered_map&lt;std::size_t, std::array&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>, 4&gt;&gt;&gt; <a href="#a62ebac53be848dc1a8a4c753fe8cbb11" class="m-dox">m_bnorm</a></dt>
            <dd></dd>
            <dt>std::unordered_map&lt;int, std::unordered_map&lt;std::size_t, std::array&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>, 4&gt;&gt;&gt; <a href="#a3f98f7ea5cb909350558ffc56890eb22" class="m-dox">m_bnormc</a></dt>
            <dd>Receive buffer for communication of the boundary point normals associated to side sets.</dd>
            <dt>std::unordered_set&lt;std::size_t&gt; <a href="#a660215e189bbf4852cce0f62b0cf83f4" class="m-dox-self" name="a660215e189bbf4852cce0f62b0cf83f4">m_symbcnodes</a></dt>
            <dd>Unique set of nodes at which symmetry BCs are set.</dd>
            <dt>std::unordered_set&lt;std::size_t&gt; <a href="#a91a3deac332b865396a5cf212ef2fce6" class="m-dox-self" name="a91a3deac332b865396a5cf212ef2fce6">m_farfieldbcnodes</a></dt>
            <dd>Unique set of nodes at which farfield BCs are set.</dd>
            <dt>std::vector&lt;int&gt; <a href="#a745561ed333725ac9fc8d218843c3628" class="m-dox-self" name="a745561ed333725ac9fc8d218843c3628">m_symbctri</a></dt>
            <dd>Vector with 1 at symmetry BC boundary triangles.</dd>
            <dt>std::unordered_set&lt;std::size_t&gt; <a href="#a8f18a60fe1ea65530b9b5d92cc506ea7" class="m-dox-self" name="a8f18a60fe1ea65530b9b5d92cc506ea7">m_spongenodes</a></dt>
            <dd>Unique set of nodes at which sponge parameters are set.</dd>
            <dt>std::vector&lt;std::unordered_set&lt;std::size_t&gt;&gt; <a href="#a7b978ab249ffac1e84407a9ecdce1861" class="m-dox-self" name="a7b978ab249ffac1e84407a9ecdce1861">m_timedepbcnodes</a></dt>
            <dd>Unique set of nodes at which time dependent BCs are set.</dd>
            <dt>std::vector&lt;<a href="namespacetk.html#ae1f47e67146a193c0f7e8dee7fa5d30d" class="m-dox">tk::<wbr />Table</a>&lt;5&gt;&gt; <a href="#a1f422c13d7664cb4b6c6fa5ee8c7a2cc" class="m-dox-self" name="a1f422c13d7664cb4b6c6fa5ee8c7a2cc">m_timedepbcFn</a></dt>
            <dd>User defined discrete function of time used in the time dependent.</dd>
            <dt>std::size_t <a href="#a4a753cde24f53a4fe7f6dbcd9ab4ffd1" class="m-dox-self" name="a4a753cde24f53a4fe7f6dbcd9ab4ffd1">m_stage</a></dt>
            <dd>Runge-Kutta stage counter.</dd>
            <dt>std::vector&lt;std::unordered_set&lt;std::size_t&gt;&gt; <a href="#a05bb0b1975ec6bae201cb7ebbe6447e8" class="m-dox-self" name="a05bb0b1975ec6bae201cb7ebbe6447e8">m_boxnodes</a></dt>
            <dd>Mesh node ids at which user-defined box ICs are defined (multiple boxes)</dd>
            <dt>std::vector&lt;std::size_t&gt; <a href="#a5ce4ba8475486e17ece12bf5c422c3f5" class="m-dox-self" name="a5ce4ba8475486e17ece12bf5c422c3f5">m_edgenode</a></dt>
            <dd>Local node IDs of edges.</dd>
            <dt>std::vector&lt;std::size_t&gt; <a href="#ab6ddedcb95532bfcc639f4821901fc0c" class="m-dox-self" name="ab6ddedcb95532bfcc639f4821901fc0c">m_edgeid</a></dt>
            <dd>Edge ids in the order of access.</dd>
            <dt>std::vector&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>&gt; <a href="#adecb8e9e4a321652bdb2da4b99cb6c88" class="m-dox-self" name="adecb8e9e4a321652bdb2da4b99cb6c88">m_dtp</a></dt>
            <dd>Time step size for each mesh node.</dd>
            <dt>std::vector&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>&gt; <a href="#ae885df2f57e508f9117b58cf812fbce4" class="m-dox-self" name="ae885df2f57e508f9117b58cf812fbce4">m_tp</a></dt>
            <dd>Physical time for each mesh node.</dd>
            <dt>int <a href="#a58a8749bb8bdcfa3b368e86d87686def" class="m-dox-self" name="a58a8749bb8bdcfa3b368e86d87686def">m_finished</a></dt>
            <dd>True in the last time step.</dd>
            <dt>int <a href="#a5b3135e114b321d72374e831f65da74f" class="m-dox-self" name="a5b3135e114b321d72374e831f65da74f">m_newmesh</a></dt>
            <dd>State indicating the reason we are recomputing the normals.</dd>
            <dt>int <a href="#ad27ab1bbef73c39417f004b2456033ee" class="m-dox-self" name="ad27ab1bbef73c39417f004b2456033ee">m_refinedmesh</a></dt>
            <dd>State indicating if the mesh has been refined by dtref.</dd>
            <dt>std::size_t <a href="#afcb2bfc459ce15bc8f2a73db6b35e6b2" class="m-dox-self" name="afcb2bfc459ce15bc8f2a73db6b35e6b2">m_nusermeshblk</a></dt>
            <dd>Number of mesh-blocks with user-defined ICs.</dd>
            <dt>std::unordered_map&lt;std::size_t, std::set&lt;std::size_t&gt;&gt; <a href="#a78bc113abeadabf9835b5e90d4e19760" class="m-dox-self" name="a78bc113abeadabf9835b5e90d4e19760">m_nodeblockid</a></dt>
            <dd>Local node ids associated with mesh block ids.</dd>
            <dt>std::unordered_map&lt;std::size_t, std::set&lt;std::size_t&gt;&gt; <a href="#a7052c3f5e05262ad17fffd4db11b8272" class="m-dox">m_nodeblockidc</a></dt>
            <dd></dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#ac9362dd42f5cf5ad938b5f74a19a5de2" class="m-dox">pup</a>(</span><span class="m-dox-wrap">PUP::er&amp; p) override</span>
            </dt>
            <dd>Pack/Unpack serialize member function.</dd>
            <dt>
              <span class="m-dox-wrap-bumper">void <a href="#a7105ade2d48ce6799d9c306600e0c39a" class="m-dox">operator|</a>(</span><span class="m-dox-wrap">PUP::er&amp; p,
              <a href="classinciter_1_1_a_l_e_c_g.html" class="m-dox">ALECG</a>&amp; i)</span>
            </dt>
            <dd>Pack/Unpack serialize operator|.</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-dox-details" id="ae1c431a552a76e269a3b35081557a70f"><div>
            <h3>
              <span class="m-dox-wrap-bumper">static void inciter::<wbr />ALECG::<wbr /></span><span class="m-dox-wrap"><span class="m-dox-wrap-bumper"><a href="#ae1c431a552a76e269a3b35081557a70f" class="m-dox-self">registerReducers</a>(</span><span class="m-dox-wrap">)</span></span>
            </h3>
            <p>Configure Charm++ custom reduction types initiated from this chare array.</p>
<p>Since this is a [initnode] routine, the runtime system executes the routine exactly once on every logical node early on in the Charm++ init sequence. Must be static as it is called without an object. See also: Section &quot;Initializations at Program Startup&quot; at in the Charm++ manual <a href="http://charm.cs.illinois.edu/manuals/html/charm++/manual.html">http:/<wbr />/<wbr />charm.cs.illinois.edu/<wbr />manuals/<wbr />html/<wbr />charm++/<wbr />manual.html</a>.</p>
          </div></section>
          <section class="m-dox-details" id="a01bf58a786b717b7b0269d827eb3e2ce"><div>
            <h3>
              <span class="m-dox-wrap-bumper">ALECG_SDAG_CODE inciter::<wbr />ALECG::<wbr /></span><span class="m-dox-wrap"><span class="m-dox-wrap-bumper"><a href="#a01bf58a786b717b7b0269d827eb3e2ce" class="m-dox-self">ALECG</a>(</span><span class="m-dox-wrap">const CProxy_Discretization&amp; disc,
              const CProxy_Ghosts&amp; ghostsproxy,
              const std::map&lt;int, std::vector&lt;std::size_t&gt;&gt;&amp; bface,
              const std::map&lt;int, std::vector&lt;std::size_t&gt;&gt;&amp; bnode,
              const std::vector&lt;std::size_t&gt;&amp; triinpoel) <span class="m-label m-info">explicit</span> </span></span>
            </h3>
            <p>Constructor.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">disc&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td><a href="classinciter_1_1_discretization.html" class="m-dox">Discretization</a> proxy</td>
                </tr>
                <tr>
                  <td>ghostsproxy</td>
                  <td></td>
                </tr>
                <tr>
                  <td>bface&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Boundary-faces mapped to side sets used in the input file</td>
                </tr>
                <tr>
                  <td>bnode&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Boundary-node lists mapped to side sets used in input file</td>
                </tr>
                <tr>
                  <td>triinpoel&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Boundary-face connectivity where BCs set (global ids)</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-dox-details" id="aa6f44f484b2d37b196d01a9cc1e0339d"><div>
            <h3>
              <span class="m-dox-wrap-bumper">void inciter::<wbr />ALECG::<wbr /></span><span class="m-dox-wrap"><span class="m-dox-wrap-bumper"><a href="#aa6f44f484b2d37b196d01a9cc1e0339d" class="m-dox-self">ResumeFromSync</a>(</span><span class="m-dox-wrap">) override</span></span>
            </h3>
            <p>Return from migration.</p>
<p>This is called when load balancing (LB) completes. The presence of this function does not affect whether or not we block on LB.</p>
          </div></section>
          <section class="m-dox-details" id="a08580c19f39310f066721609d9e4bcd3"><div>
            <h3>
              <span class="m-dox-wrap-bumper">void inciter::<wbr />ALECG::<wbr /></span><span class="m-dox-wrap"><span class="m-dox-wrap-bumper"><a href="#a08580c19f39310f066721609d9e4bcd3" class="m-dox-self">setup</a>(</span><span class="m-dox-wrap">)</span></span>
            </h3>
            <p>Start setup for solution.</p>
<p>[setup]</p>
          </div></section>
          <section class="m-dox-details" id="a5719e315ad96c6a26998bc58d7cb6687"><div>
            <h3>
              <span class="m-dox-wrap-bumper">void inciter::<wbr />ALECG::<wbr /></span><span class="m-dox-wrap"><span class="m-dox-wrap-bumper"><a href="#a5719e315ad96c6a26998bc58d7cb6687" class="m-dox-self">box</a>(</span><span class="m-dox-wrap"><a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a> v,
              const std::vector&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>&gt;&amp; blkvols)</span></span>
            </h3>
            <p>Receive total box IC volume and set conditions in box.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">v&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Total volume within user-specified box</td>
                </tr>
                <tr>
                  <td>blkvols&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Vector of mesh block discrete volumes with user ICs</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-dox-details" id="a8471053d9f3da3a7a692876e3294f7fe"><div>
            <h3>
              <span class="m-dox-wrap-bumper">void inciter::<wbr />ALECG::<wbr /></span><span class="m-dox-wrap"><span class="m-dox-wrap-bumper"><a href="#a8471053d9f3da3a7a692876e3294f7fe" class="m-dox-self">advance</a>(</span><span class="m-dox-wrap"><a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a> newdt)</span></span>
            </h3>
            <p>Advance equations to next time step.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">newdt&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>The smallest dt across the whole problem</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-dox-details" id="afd553a3a909e3c29e19108fc7ed3d00b"><div>
            <h3>
              <span class="m-dox-wrap-bumper">void inciter::<wbr />ALECG::<wbr /></span><span class="m-dox-wrap"><span class="m-dox-wrap-bumper"><a href="#afd553a3a909e3c29e19108fc7ed3d00b" class="m-dox-self">lhs</a>(</span><span class="m-dox-wrap">)</span></span>
            </h3>
            <p>Compute left-hand side of transport equations.</p>
<p>[start]</p><p>[Compute lhs]</p><p>Also (re-)compute all data structures if the mesh changed.</p>
          </div></section>
          <section class="m-dox-details" id="a08dcf4d7bc80ed4a06caad090542f084"><div>
            <h3>
              <span class="m-dox-wrap-bumper">void inciter::<wbr />ALECG::<wbr /></span><span class="m-dox-wrap"><span class="m-dox-wrap-bumper"><a href="#a08dcf4d7bc80ed4a06caad090542f084" class="m-dox-self">comdfnorm</a>(</span><span class="m-dox-wrap">const std::unordered_map&lt;<a href="classtk_1_1_uns_mesh.html#a622c34bab099c772650f046b848346d7" class="m-dox">tk::<wbr />UnsMesh::<wbr />Edge</a>, std::array&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>, 3&gt;, <a href="structtk_1_1_uns_mesh_1_1_hash.html" class="m-dox">tk::<wbr />UnsMesh::<wbr />Hash</a>&lt;2&gt;, <a href="structtk_1_1_uns_mesh_1_1_eq.html" class="m-dox">tk::<wbr />UnsMesh::<wbr />Eq</a>&lt;2&gt;&gt;&amp; dfnorm)</span></span>
            </h3>
            <p>Receive contributions to duual-face normals on chare boundaries.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">dfnorm&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Incoming partial sums of dual-face normals associated to chare-boundary edges</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-dox-details" id="a687d56c3e327c8b9b9cbd4c1eb605f56"><div>
            <h3>
              <span class="m-dox-wrap-bumper">void inciter::<wbr />ALECG::<wbr /></span><span class="m-dox-wrap"><span class="m-dox-wrap-bumper"><a href="#a687d56c3e327c8b9b9cbd4c1eb605f56" class="m-dox-self">comnorm</a>(</span><span class="m-dox-wrap">const std::unordered_map&lt;int, std::unordered_map&lt;std::size_t, std::array&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>, 4&gt;&gt;&gt;&amp; innorm)</span></span>
            </h3>
            <p>Receive boundary point normals on chare-boundaries.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">innorm&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Incoming partial sums of boundary point normal contributions to normals (first 3 components), inverse distance squared (4th component), associated to side set ids</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-dox-details" id="aebb2f310d9a787aa9f5eb645f432e128"><div>
            <h3>
              <span class="m-dox-wrap-bumper">void inciter::<wbr />ALECG::<wbr /></span><span class="m-dox-wrap"><span class="m-dox-wrap-bumper"><a href="#aebb2f310d9a787aa9f5eb645f432e128" class="m-dox-self">comblk</a>(</span><span class="m-dox-wrap">const std::vector&lt;std::size_t&gt;&amp; gid,
              const std::vector&lt;std::set&lt;std::size_t&gt;&gt;&amp; mb)</span></span>
            </h3>
            <p>Receive mesh block information for nodes on chare-boundaries.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">gid&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Global mesh node IDs at which we receive RHS contributions</td>
                </tr>
                <tr>
                  <td>mb&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Block ids for each node on chare-boundaries</td>
                </tr>
              </tbody>
            </table>
<p>This function receives mesh block information for nodes on chare boundaries. While m_nodeblockid stores block information for own nodes, m_nodeblockidc collects the neighbor chare information during communication. This way work on m_nodeblockid and m_nodeblockidc is overlapped. The two are combined in <a href="classinciter_1_1_a_l_e_c_g.html#a515d876bb1a80436b14a5aef2d58b66d" class="m-dox">continueSetup()</a>.</p>
          </div></section>
          <section class="m-dox-details" id="a7191b6d52651333c69e912aa31624c3f"><div>
            <h3>
              <span class="m-dox-wrap-bumper">void inciter::<wbr />ALECG::<wbr /></span><span class="m-dox-wrap"><span class="m-dox-wrap-bumper"><a href="#a7191b6d52651333c69e912aa31624c3f" class="m-dox-self">comChBndGrad</a>(</span><span class="m-dox-wrap">const std::vector&lt;std::size_t&gt;&amp; gid,
              const std::vector&lt;std::vector&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>&gt;&gt;&amp; G)</span></span>
            </h3>
            <p>Receive contributions to gradients on chare-boundaries.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">gid&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Global mesh node IDs at which we receive grad contributions</td>
                </tr>
                <tr>
                  <td>G&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Partial contributions of gradients to chare-boundary nodes</td>
                </tr>
              </tbody>
            </table>
<p>This function receives contributions to m_chBndGrad, which stores nodal gradients at mesh chare-boundary nodes. While m_chBndGrad stores own contributions, m_chBndGradc collects the neighbor chare contributions during communication. This way work on m_chBndGrad and m_chBndGradc is overlapped. The two are combined in <a href="classinciter_1_1_a_l_e_c_g.html#a416249274fefe5745c419388e786cda2" class="m-dox">rhs()</a>.</p>
          </div></section>
          <section class="m-dox-details" id="acc3f3f3d9d1796e7292df60a359ecd7f"><div>
            <h3>
              <span class="m-dox-wrap-bumper">void inciter::<wbr />ALECG::<wbr /></span><span class="m-dox-wrap"><span class="m-dox-wrap-bumper"><a href="#acc3f3f3d9d1796e7292df60a359ecd7f" class="m-dox-self">comrhs</a>(</span><span class="m-dox-wrap">const std::vector&lt;std::size_t&gt;&amp; gid,
              const std::vector&lt;std::vector&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>&gt;&gt;&amp; R)</span></span>
            </h3>
            <p>Receive contributions to right-hand side vector on chare-boundaries.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">gid&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Global mesh node IDs at which we receive RHS contributions</td>
                </tr>
                <tr>
                  <td>R&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Partial contributions of RHS to chare-boundary nodes</td>
                </tr>
              </tbody>
            </table>
<p>This function receives contributions to m_rhs, which stores the right hand side vector at mesh nodes. While m_rhs stores own contributions, m_rhsc collects the neighbor chare contributions during communication. This way work on m_rhs and m_rhsc is overlapped. The two are combined in <a href="classinciter_1_1_a_l_e_c_g.html#a778e4351bfc35c4a7c2943901c61830e" class="m-dox">solve()</a>.</p>
          </div></section>
          <section class="m-dox-details" id="aea0413abbbb9139a38dacd24e3adf484"><div>
            <h3>
              <span class="m-dox-wrap-bumper">void inciter::<wbr />ALECG::<wbr /></span><span class="m-dox-wrap"><span class="m-dox-wrap-bumper"><a href="#aea0413abbbb9139a38dacd24e3adf484" class="m-dox-self">refine</a>(</span><span class="m-dox-wrap">const std::vector&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>&gt;&amp; l2res)</span></span>
            </h3>
            <p>Optionally refine/derefine mesh.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">l2res&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>L2-norms of the residual for each scalar component computed across the whole problem</td>
                </tr>
              </tbody>
            </table>
<p>[Refine]</p>
          </div></section>
          <section class="m-dox-details" id="a2f2bc3079d5ebdec5fe4ee60658cce8d"><div>
            <h3>
              <span class="m-dox-wrap-bumper">void inciter::<wbr />ALECG::<wbr /></span><span class="m-dox-wrap"><span class="m-dox-wrap-bumper"><a href="#a2f2bc3079d5ebdec5fe4ee60658cce8d" class="m-dox-self">resizePostAMR</a>(</span><span class="m-dox-wrap">const std::vector&lt;std::size_t&gt;&amp; ginpoel,
              const <a href="classtk_1_1_uns_mesh.html#a87277adba5b6fc23035adcd8dd6cb0e5" class="m-dox">tk::<wbr />UnsMesh::<wbr />Chunk</a>&amp; chunk,
              const <a href="classtk_1_1_uns_mesh.html#a2ed8d512b099636a98ba6b35b1118d6f" class="m-dox">tk::<wbr />UnsMesh::<wbr />Coords</a>&amp; coord,
              const std::unordered_map&lt;std::size_t, <a href="classtk_1_1_uns_mesh.html#a622c34bab099c772650f046b848346d7" class="m-dox">tk::<wbr />UnsMesh::<wbr />Edge</a>&gt;&amp; addedNodes,
              const std::unordered_map&lt;std::size_t, std::size_t&gt;&amp; addedTets,
              const std::set&lt;std::size_t&gt;&amp; removedNodes,
              const std::unordered_map&lt;std::size_t, std::size_t&gt;&amp; amrNodeMap,
              const <a href="namespacetk.html#afae1f1be5bf7e58189087d896b6d6ad4" class="m-dox">tk::<wbr />NodeCommMap</a>&amp; nodeCommMap,
              const std::map&lt;int, std::vector&lt;std::size_t&gt;&gt;&amp; bface,
              const std::map&lt;int, std::vector&lt;std::size_t&gt;&gt;&amp; bnode,
              const std::vector&lt;std::size_t&gt;&amp; triinpoel,
              const std::unordered_map&lt;std::size_t, std::set&lt;std::size_t&gt;&gt;&amp; elemblockid)</span></span>
            </h3>
            <p>Receive new mesh from <a href="classinciter_1_1_refiner.html" class="m-dox">Refiner</a>.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">ginpoel&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Mesh connectivity with global node ids</td>
                </tr>
                <tr>
                  <td>chunk&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>New mesh chunk (connectivity and global&lt;-&gt;local id maps)</td>
                </tr>
                <tr>
                  <td>coord&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>New mesh node coordinates</td>
                </tr>
                <tr>
                  <td>addedNodes&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Newly added mesh nodes and their parents (local ids)</td>
                </tr>
                <tr>
                  <td>addedTets&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Newly added mesh cells and their parents (local ids)</td>
                </tr>
                <tr>
                  <td>removedNodes&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Newly removed mesh node local ids</td>
                </tr>
                <tr>
                  <td>amrNodeMap&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Node id map after amr (local ids)</td>
                </tr>
                <tr>
                  <td>nodeCommMap&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>New node communication map</td>
                </tr>
                <tr>
                  <td>bface&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Boundary-faces mapped to side set ids</td>
                </tr>
                <tr>
                  <td>bnode&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Boundary-node lists mapped to side set ids</td>
                </tr>
                <tr>
                  <td>triinpoel&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Boundary-face connectivity</td>
                </tr>
                <tr>
                  <td>elemblockid&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Local tet ids associated with mesh block ids</td>
                </tr>
              </tbody>
            </table>
<p>[Refine]</p><p>[Resize]</p>
          </div></section>
          <section class="m-dox-details" id="a489c148b51da4634f5a1b6a4097479c3"><div>
            <h3>
              <span class="m-dox-wrap-bumper">const tk::Fields&amp; inciter::<wbr />ALECG::<wbr /></span><span class="m-dox-wrap"><span class="m-dox-wrap-bumper"><a href="#a489c148b51da4634f5a1b6a4097479c3" class="m-dox-self">solution</a>(</span><span class="m-dox-wrap">) const</span></span>
            </h3>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>Const-ref to current solution</td>
                </tr>
              </tfoot>
            </table>
<p>Const-ref access to current solution</p>
          </div></section>
          <section class="m-dox-details" id="a29637575b556dbecaa16189d4dad0f80"><div>
            <h3>
              <span class="m-dox-wrap-bumper">void inciter::<wbr />ALECG::<wbr /></span><span class="m-dox-wrap"><span class="m-dox-wrap-bumper"><a href="#a29637575b556dbecaa16189d4dad0f80" class="m-dox-self">resized</a>(</span><span class="m-dox-wrap">)</span></span>
            </h3>
            <p>Resizing data sutrctures after mesh refinement has been completed.</p>
<p>[Resize]</p>
          </div></section>
          <section class="m-dox-details" id="ac0dc10310c84aa87229d18541fe38467"><div>
            <h3>
              <span class="m-dox-wrap-bumper">void inciter::<wbr />ALECG::<wbr /></span><span class="m-dox-wrap"><span class="m-dox-wrap-bumper"><a href="#ac0dc10310c84aa87229d18541fe38467" class="m-dox-self">evalLB</a>(</span><span class="m-dox-wrap">int nrestart)</span></span>
            </h3>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">nrestart&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Number of times restarted</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-dox-details" id="a603abfa2427e70b053d010e5d9675b4b"><div>
            <h3>
              <span class="m-dox-wrap-bumper">void inciter::<wbr />ALECG::<wbr /></span><span class="m-dox-wrap"><span class="m-dox-wrap-bumper"><a href="#a603abfa2427e70b053d010e5d9675b4b" class="m-dox-self">stage</a>(</span><span class="m-dox-wrap">)</span></span>
            </h3>
            <p>Evaluate whether to continue with next time step stage.</p>
<p>[stage]</p>
          </div></section>
          <section class="m-dox-details" id="ac9362dd42f5cf5ad938b5f74a19a5de2"><div>
            <h3>
              <span class="m-dox-wrap-bumper">void inciter::<wbr />ALECG::<wbr /></span><span class="m-dox-wrap"><span class="m-dox-wrap-bumper"><a href="#ac9362dd42f5cf5ad938b5f74a19a5de2" class="m-dox-self">pup</a>(</span><span class="m-dox-wrap">PUP::er&amp; p) override</span></span>
            </h3>
            <p>Pack/Unpack serialize member function.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">p&nbsp;<span class="m-label m-flat m-danger">in/out</span></td>
                  <td>Charm++&#x27;s PUP::er serializer object reference</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-dox-details" id="a7105ade2d48ce6799d9c306600e0c39a"><div>
            <h3>
              <span class="m-dox-wrap-bumper">void inciter::<wbr />ALECG::<wbr /></span><span class="m-dox-wrap"><span class="m-dox-wrap-bumper"><a href="#a7105ade2d48ce6799d9c306600e0c39a" class="m-dox-self">operator|</a>(</span><span class="m-dox-wrap">PUP::er&amp; p,
              <a href="classinciter_1_1_a_l_e_c_g.html" class="m-dox">ALECG</a>&amp; i)</span></span>
            </h3>
            <p>Pack/Unpack serialize operator|.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">p&nbsp;<span class="m-label m-flat m-danger">in/out</span></td>
                  <td>Charm++&#x27;s PUP::er serializer object reference</td>
                </tr>
                <tr>
                  <td>i&nbsp;<span class="m-label m-flat m-danger">in/out</span></td>
                  <td><a href="classinciter_1_1_a_l_e_c_g.html" class="m-dox">ALECG</a> object reference</td>
                </tr>
              </tbody>
            </table>
          </div></section>
        </section>
        <section>
          <h2>Variable documentation</h2>
          <section class="m-dox-details" id="a538f67d4fa37f3ce3008a7f8cfee7b38"><div>
            <h3>
              std::unordered_map&lt;std::size_t, std::vector&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>&gt;&gt; inciter::<wbr />ALECG::<wbr /><a href="#a538f67d4fa37f3ce3008a7f8cfee7b38" class="m-dox-self">m_rhsc</a>
            </h3>
<p>Receive buffer for communication of the right hand side</p><p>Key: global node id, value: rhs for all scalar components per node.</p>
          </div></section>
          <section class="m-dox-details" id="ae491269f575d0b1982f990e60927798c"><div>
            <h3>
              std::unordered_map&lt;std::size_t, std::vector&lt;std::pair&lt;bool, <a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>&gt;&gt;&gt; inciter::<wbr />ALECG::<wbr /><a href="#ae491269f575d0b1982f990e60927798c" class="m-dox-self">m_dirbc</a>
            </h3>
<p>Boundary conditions evaluated and assigned to local mesh node IDs</p><p>Vector of pairs of bool and boundary condition value associated to local mesh node IDs at which the user has set Dirichlet boundary conditions for all PDEs integrated. The bool indicates whether the BC is set at the node for that component the if true, the real value is the increment (from t to dt) in the BC specified for a component.</p>
          </div></section>
          <section class="m-dox-details" id="a50b0c28808cc99414921229353063543"><div>
            <h3>
              std::unordered_map&lt;std::size_t, std::vector&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>&gt;&gt; inciter::<wbr />ALECG::<wbr /><a href="#a50b0c28808cc99414921229353063543" class="m-dox-self">m_chBndGradc</a>
            </h3>
<p>Receive buffer for communication of the nodal gradients</p><p>Key: chare id, value: gradients for all scalar components per node</p>
          </div></section>
          <section class="m-dox-details" id="a62ebac53be848dc1a8a4c753fe8cbb11"><div>
            <h3>
              std::unordered_map&lt;int, std::unordered_map&lt;std::size_t, std::array&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>, 4&gt;&gt;&gt; inciter::<wbr />ALECG::<wbr /><a href="#a62ebac53be848dc1a8a4c753fe8cbb11" class="m-dox-self">m_bnorm</a>
            </h3>
<p>Face normals in boundary points associated to side sets</p><p>Key: local node id, value: unit normal and inverse distance square between face centroids and points, outer key: side set id</p>
          </div></section>
          <section class="m-dox-details" id="a3f98f7ea5cb909350558ffc56890eb22"><div>
            <h3>
              std::unordered_map&lt;int, std::unordered_map&lt;std::size_t, std::array&lt;<a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575" class="m-dox">tk::<wbr />real</a>, 4&gt;&gt;&gt; inciter::<wbr />ALECG::<wbr /><a href="#a3f98f7ea5cb909350558ffc56890eb22" class="m-dox-self">m_bnormc</a>
            </h3>
            <p>Receive buffer for communication of the boundary point normals associated to side sets.</p>
<p>Key: global node id, value: normals (first 3 components), inverse distance squared (4th component), outer key, side set id</p>
          </div></section>
          <section class="m-dox-details" id="a7052c3f5e05262ad17fffd4db11b8272"><div>
            <h3>
              std::unordered_map&lt;std::size_t, std::set&lt;std::size_t&gt;&gt; inciter::<wbr />ALECG::<wbr /><a href="#a7052c3f5e05262ad17fffd4db11b8272" class="m-dox-self">m_nodeblockidc</a>
            </h3>
<p>Receive buffer for communication of the mesh block ids</p><p>Key: mesh block id, value: set of global node ids for nodes in this mesh block.</p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-dox-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-dox-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-dox-search-content">
          <input type="search" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" />
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript. Enable it or <a href="https://google.com/search?q=site:quinoacomputing.github.io+">use an external search engine</a>.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            Search for symbols, directories, files, pages or modules. You can omit any
            prefix from the symbol or file path; adding a <code>:</code> or <code>/</code>
            suffix lists all members of given symbol or directory. Navigate through the
            list using <span class="m-label m-dim">&darr;</span> and
            <span class="m-label m-dim">&uarr;</span>, press
            <span class="m-label m-dim">Enter</span> to go.
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.<br />Maybe try a full-text <a href="#" id="search-external" data-search-engine="https://google.com/search?q=site:quinoacomputing.github.io+{query}">search with external engine</a>?</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search.js"></script>
<script src="searchdata.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>Quinoa docs, part of the <a href="http://quinoacomputing.github.io/">Quinoa project</a>. Copyright © J. Bakosi 2012&ndash;2015, Los Alamos National Security, LLC, 2016&ndash;2018, <a href="https://www.triadns.org/">Triad National Security, LLC,</a> 2019-2021. Generated on Tuesday, Nov 29, 2022 based on <a href="https://github.com/quinoacomputing/quinoa/commit/-128-NOTFOUND">-128-NOTFOUND</a> by <a href="http://doxygen.org/">Doxygen</a> and <a href="http://mcss.mosra.cz/">m.css</a>. Contact us via <a href="https://github.com/quinoacomputing/quinoa/issues">GitHub</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>